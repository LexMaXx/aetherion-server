# ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ DummyEnemy –≤–æ –≤—Å–µ —Å–Ω–∞—Ä—è–¥—ã

## –ü—Ä–æ–±–ª–µ–º–∞

–°–Ω–∞—Ä—è–¥—ã (CelestialProjectile, ArrowProjectile, Projectile) –º–æ–≥–ª–∏ –ø–æ–ø–∞–¥–∞—Ç—å —Ç–æ–ª—å–∫–æ –≤ –≤—Ä–∞–≥–æ–≤ —Ç–∏–ø–∞ `Enemy`, –Ω–æ **–ù–ï** –≤ `DummyEnemy` (—Ç–µ—Å—Ç–æ–≤—ã–µ –º–∞–Ω–µ–∫–µ–Ω—ã).

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –°–Ω–∞—Ä—è–¥ –ø–æ–ø–∞–¥–∞–ª –≤ DummyEnemy
- –°–æ–∑–¥–∞–≤–∞–ª—Å—è –≤–∏–∑—É–∞–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç –≤–∑—Ä—ã–≤–∞
- –°–Ω–∞—Ä—è–¥ —É–Ω–∏—á—Ç–æ–∂–∞–ª—Å—è
- ‚ùå **–ù–û —É—Ä–æ–Ω –ù–ï –Ω–∞–Ω–æ—Å–∏–ª—Å—è!** HP DummyEnemy –Ω–µ —É–º–µ–Ω—å—à–∞–ª–æ—Å—å

---

## –†–µ—à–µ–Ω–∏–µ

–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ `DummyEnemy` –≤–æ –≤—Å–µ –º–µ—Ç–æ–¥—ã –Ω–∞–Ω–µ—Å–µ–Ω–∏—è —É—Ä–æ–Ω–∞ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ü–µ–ª–∏.

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:

#### 1. **CelestialProjectile.cs**

**–ú–µ—Ç–æ–¥ HitTarget() (—Å—Ç—Ä–æ–∫–∏ 229-253):**
```csharp
// –î–û:
Enemy enemy = target.GetComponent<Enemy>();
if (enemy != null && enemy.IsAlive()) {
    enemy.TakeDamage(damage);
}

// –ü–û–°–õ–ï:
Enemy enemy = target.GetComponent<Enemy>();
DummyEnemy dummy = target.GetComponent<DummyEnemy>();

if (enemy != null && enemy.IsAlive()) {
    enemy.TakeDamage(damage);
}
else if (dummy != null && dummy.IsAlive()) {
    dummy.TakeDamage(damage);  // ‚úÖ –£—Ä–æ–Ω —Ç–µ–ø–µ—Ä—å –Ω–∞–Ω–æ—Å–∏—Ç—Å—è!
}
```

**–ú–µ—Ç–æ–¥ IsTargetValid() (—Å—Ç—Ä–æ–∫–∏ 380-404):**
```csharp
// –î–û:
Enemy enemy = target.GetComponent<Enemy>();
if (enemy != null) return enemy.IsAlive();
return false;

// –ü–û–°–õ–ï:
Enemy enemy = target.GetComponent<Enemy>();
if (enemy != null) return enemy.IsAlive();

DummyEnemy dummy = target.GetComponent<DummyEnemy>();
if (dummy != null) return dummy.IsAlive();  // ‚úÖ DummyEnemy —Ç–æ–∂–µ –≤–∞–ª–∏–¥–Ω–∞—è —Ü–µ–ª—å!

return false;
```

---

#### 2. **ArrowProjectile.cs**

**–ú–µ—Ç–æ–¥ HitTarget() (—Å—Ç—Ä–æ–∫–∏ 226-250):**
```csharp
Enemy enemy = target.GetComponent<Enemy>();
DummyEnemy dummy = target.GetComponent<DummyEnemy>();

if (enemy != null && enemy.IsAlive()) {
    enemy.TakeDamage(damage);
}
else if (dummy != null && dummy.IsAlive()) {
    dummy.TakeDamage(damage);  // ‚úÖ –°—Ç—Ä–µ–ª—ã —Ç–æ–∂–µ –Ω–∞–Ω–æ—Å—è—Ç —É—Ä–æ–Ω DummyEnemy!
}
```

**–ú–µ—Ç–æ–¥ IsTargetValid() (—Å—Ç—Ä–æ–∫–∏ 377-401):**
```csharp
Enemy enemy = target.GetComponent<Enemy>();
if (enemy != null) return enemy.IsAlive();

DummyEnemy dummy = target.GetComponent<DummyEnemy>();
if (dummy != null) return dummy.IsAlive();  // ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è DummyEnemy

return false;
```

---

#### 3. **Projectile.cs** (–±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å)

**–ú–µ—Ç–æ–¥ HitTarget() (—Å—Ç—Ä–æ–∫–∏ 136-171):**
```csharp
Enemy enemy = target.GetComponent<Enemy>();
DummyEnemy dummy = target.GetComponent<DummyEnemy>();

if (enemy != null && enemy.IsAlive()) {
    enemy.TakeDamage(damage);
    ApplyEffects(target);
}
else if (dummy != null && dummy.IsAlive()) {
    dummy.TakeDamage(damage);  // ‚úÖ –ë–∞–∑–æ–≤—ã–µ —Å–Ω–∞—Ä—è–¥—ã —Ç–æ–∂–µ —Ä–∞–±–æ—Ç–∞—é—Ç!
    ApplyEffects(target);
}
```

**–ú–µ—Ç–æ–¥ OnTriggerEnter() (—Å—Ç—Ä–æ–∫–∏ 219-261):**
```csharp
NetworkPlayer networkTarget = other.GetComponent<NetworkPlayer>();
Enemy enemy = other.GetComponent<Enemy>();
DummyEnemy dummy = other.GetComponent<DummyEnemy>();

if (networkTarget != null || enemy != null || dummy != null) {
    bool isAlive = true;

    if (enemy != null)
        isAlive = enemy.IsAlive();
    else if (dummy != null)
        isAlive = dummy.IsAlive();  // ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∂–∏–≤ –ª–∏ DummyEnemy

    if (isAlive) {
        if (enemy != null) {
            enemy.TakeDamage(damage);
        }
        else if (dummy != null) {
            dummy.TakeDamage(damage);  // ‚úÖ –£—Ä–æ–Ω –ø—Ä–∏ –∫–æ–ª–ª–∏–∑–∏–∏
        }
    }
}
```

---

## –ß—Ç–æ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç

### ‚úÖ CelestialProjectile (Celestial Ball - –ú–∞–≥)
- –°–æ–∑–¥–∞—ë—Ç—Å—è ‚úÖ
- –õ–µ—Ç–∏—Ç –∫ —Ü–µ–ª–∏ ‚úÖ
- –ü–æ–ø–∞–¥–∞–µ—Ç –≤ DummyEnemy ‚úÖ
- **–ù–∞–Ω–æ—Å–∏—Ç —É—Ä–æ–Ω DummyEnemy** ‚úÖ
- –°–æ–∑–¥–∞—ë—Ç —ç—Ñ—Ñ–µ–∫—Ç –≤–∑—Ä—ã–≤–∞ ‚úÖ
- –£–Ω–∏—á—Ç–æ–∂–∞–µ—Ç—Å—è ‚úÖ

### ‚úÖ ArrowProjectile (—Å—Ç—Ä–µ–ª—ã - –õ—É—á–Ω–∏–∫)
- –°–æ–∑–¥–∞—ë—Ç—Å—è ‚úÖ
- –õ–µ—Ç–∏—Ç –∫ —Ü–µ–ª–∏ ‚úÖ
- –ü–æ–ø–∞–¥–∞–µ—Ç –≤ DummyEnemy ‚úÖ
- **–ù–∞–Ω–æ—Å–∏—Ç —É—Ä–æ–Ω DummyEnemy** ‚úÖ
- –°–æ–∑–¥–∞—ë—Ç —ç—Ñ—Ñ–µ–∫—Ç –≤–∑—Ä—ã–≤–∞ ‚úÖ
- –£–Ω–∏—á—Ç–æ–∂–∞–µ—Ç—Å—è ‚úÖ

### ‚úÖ Projectile (–±–∞–∑–æ–≤—ã–µ —Å–Ω–∞—Ä—è–¥—ã)
- –°–æ–∑–¥–∞—ë—Ç—Å—è ‚úÖ
- –õ–µ—Ç–∏—Ç –∫ —Ü–µ–ª–∏ ‚úÖ
- –ü–æ–ø–∞–¥–∞–µ—Ç –≤ DummyEnemy ‚úÖ
- **–ù–∞–Ω–æ—Å–∏—Ç —É—Ä–æ–Ω DummyEnemy** ‚úÖ
- –°–æ–∑–¥–∞—ë—Ç —ç—Ñ—Ñ–µ–∫—Ç –≤–∑—Ä—ã–≤–∞ ‚úÖ
- –£–Ω–∏—á—Ç–æ–∂–∞–µ—Ç—Å—è ‚úÖ

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å—Ç–∏—Ç–µ Unity –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ:

1. **–ù–∞–∂–º–∏—Ç–µ Play ‚ñ∂Ô∏è**
2. **–ù–∞–∂–º–∏—Ç–µ –õ–ö–ú** –¥–ª—è –∞—Ç–∞–∫–∏

### –û–∂–∏–¥–∞–µ–º—ã–µ –ª–æ–≥–∏ –≤ Console:

```
[PlayerAttackNew] üí• –£—Ä–æ–Ω —Ä–∞—Å—Å—á–∏—Ç–∞–Ω: 40.0
[PlayerAttackNew] üéØ CelestialProjectile —Å–æ–∑–¥–∞–Ω –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω!
[CelestialProjectile] ‚ú® –°–æ–∑–¥–∞–Ω! Target: DummyEnemy_2, Damage: 40
[CelestialProjectile] üí• –ü–æ–ø–∞–¥–∞–Ω–∏–µ –≤ DummyEnemy_2! –£—Ä–æ–Ω: 40
[CelestialProjectile] ‚úÖ –£—Ä–æ–Ω –Ω–∞–Ω–µ—Å–µ–Ω DummyEnemy: 40        ‚Üê –ù–û–í–û–ï!
[DummyEnemy] DummyEnemy_2 –ø–æ–ª—É—á–∏–ª 40.0 —É—Ä–æ–Ω–∞. HP: 960/1000 ‚Üê –ù–û–í–û–ï!
[CelestialProjectile] üí• –≠—Ñ—Ñ–µ–∫—Ç –≤–∑—Ä—ã–≤–∞ —Å–æ–∑–¥–∞–Ω
[CelestialProjectile] üóëÔ∏è –£–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–µ —Å–Ω–∞—Ä—è–¥–∞
```

### –í–∏–∑—É–∞–ª—å–Ω–æ:

- ‚úÖ –°–Ω–∞—Ä—è–¥ —Å–æ–∑–¥–∞—ë—Ç—Å—è
- ‚úÖ –°–Ω–∞—Ä—è–¥ –ª–µ—Ç–∏—Ç –∫ –≤—Ä–∞–≥—É
- ‚úÖ –ü–æ–ø–∞–¥–∞–µ—Ç –≤ DummyEnemy
- ‚úÖ **HP bar DummyEnemy —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è!** ‚Üê –ì–õ–ê–í–ù–û–ï!
- ‚úÖ –≠—Ñ—Ñ–µ–∫—Ç –≤–∑—Ä—ã–≤–∞
- ‚úÖ –°–Ω–∞—Ä—è–¥ –∏—Å—á–µ–∑–∞–µ—Ç

---

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ç–∏–ø—ã —Ü–µ–ª–µ–π:

–¢–µ–ø–µ—Ä—å –≤—Å–µ —Å–Ω–∞—Ä—è–¥—ã –º–æ–≥—É—Ç –∞—Ç–∞–∫–æ–≤–∞—Ç—å:

1. **Enemy** - –æ–±—ã—á–Ω—ã–µ NPC –≤—Ä–∞–≥–∏
2. **DummyEnemy** - —Ç–µ—Å—Ç–æ–≤—ã–µ –º–∞–Ω–µ–∫–µ–Ω—ã (–¥–æ–±–∞–≤–ª–µ–Ω–æ)
3. **NetworkPlayer** - —Å–µ—Ç–µ–≤—ã–µ –∏–≥—Ä–æ–∫–∏ (—É—Ä–æ–Ω —á–µ—Ä–µ–∑ —Å–µ—Ä–≤–µ—Ä)

### –ü–æ—Ä—è–¥–æ–∫ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ –∫–æ–¥–µ:

```csharp
Enemy enemy = target.GetComponent<Enemy>();
DummyEnemy dummy = target.GetComponent<DummyEnemy>();
NetworkPlayer networkTarget = target.GetComponent<NetworkPlayer>();

// –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤ –ø–æ—Ä—è–¥–∫–µ:
if (enemy != null && enemy.IsAlive()) {
    // NPC –≤—Ä–∞–≥
}
else if (dummy != null && dummy.IsAlive()) {
    // DummyEnemy (—Ç–µ—Å—Ç–æ–≤—ã–π)
}
else if (networkTarget != null) {
    // –°–µ—Ç–µ–≤–æ–π –∏–≥—Ä–æ–∫
}
```

---

## –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –∞—Ç–∞–∫–∏ (–ú–∞–≥ ‚Üí DummyEnemy):

```
1. Input (–õ–ö–ú)
   ‚Üì
2. PlayerAttackNew.Update()
   ‚Üì
3. TryAttack() ‚Üí GetDummyTarget() ‚Üí DummyEnemy_2 –Ω–∞–π–¥–µ–Ω
   ‚Üì
4. PerformAttack(DummyEnemy_2)
   ‚Üì
5. DealDamage() ‚Üí CalculateDamage() ‚Üí 40 —É—Ä–æ–Ω–∞
   ‚Üì
6. SpawnProjectile(40)
   ‚Üì
7. CelestialProjectile.Initialize(DummyEnemy_2, 40)
   ‚Üì
8. CelestialProjectile –ª–µ—Ç–∏—Ç (Update + homing)
   ‚Üì
9. OnTriggerEnter(DummyEnemy_2 Collider)
   ‚Üì
10. HitTarget()
   ‚Üì
11. dummy.TakeDamage(40)  ‚Üê –ó–î–ï–°–¨ –ù–ê–ù–û–°–ò–¢–°–Ø –£–†–û–ù!
   ‚Üì
12. DummyEnemy.TakeDamage(40)
   ‚Üì
13. currentHealth -= 40  (1000 ‚Üí 960)
   ‚Üì
14. UpdateHealthBar()  ‚Üê HP bar –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è
   ‚Üì
15. SpawnHitEffect() ‚Üí –≠—Ñ—Ñ–µ–∫—Ç –≤–∑—Ä—ã–≤–∞
   ‚Üì
16. DestroySelf() ‚Üí –°–Ω–∞—Ä—è–¥ —É–Ω–∏—á—Ç–æ–∂–∞–µ—Ç—Å—è
```

---

## –°—Ç–∞—Ç—É—Å

‚úÖ **–ü–û–õ–ù–û–°–¢–¨–Æ –ì–û–¢–û–í–û**

–í—Å–µ 3 —Ç–∏–ø–∞ —Å–Ω–∞—Ä—è–¥–æ–≤ —Ç–µ–ø–µ—Ä—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –Ω–∞–Ω–æ—Å—è—Ç —É—Ä–æ–Ω DummyEnemy:
- ‚úÖ CelestialProjectile.cs
- ‚úÖ ArrowProjectile.cs
- ‚úÖ Projectile.cs

---

## –ß—Ç–æ –¥–∞–ª—å—à–µ?

1. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ Unity** - –∑–∞–ø—É—Å—Ç–∏—Ç–µ Play –∏ —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ HP DummyEnemy —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è
2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–∏–∑—É–∞–ª—å–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã** - HP bar –¥–æ–ª–∂–µ–Ω –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è
3. **–£–±–∏—Ç—å DummyEnemy** - –Ω–∞–∂–∏–º–∞–π—Ç–µ –õ–ö–ú 25 —Ä–∞–∑ (1000 HP / 40 —É—Ä–æ–Ω–∞ = 25 –∞—Ç–∞–∫)
4. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —ç—Ñ—Ñ–µ–∫—Ç —Å–º–µ—Ä—Ç–∏** - DummyEnemy –¥–æ–ª–∂–µ–Ω –∏—Å—á–µ–∑–Ω—É—Ç—å

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞:
- –°–æ–∑–¥–∞—Ç—å BasicAttackConfig –¥–ª—è –¥—Ä—É–≥–∏—Ö –∫–ª–∞—Å—Å–æ–≤ (Warrior, Archer, Paladin, Rogue)
- –ü—Ä–∏–º–µ–Ω–∏—Ç—å PlayerAttackNew –Ω–∞ –≤—Å–µ –ø—Ä–µ—Ñ–∞–±—ã –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π
- –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –º—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä
