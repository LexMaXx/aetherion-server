# Aetherion MMO - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ

## üìã –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ
1. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-—Å–∏—Å—Ç–µ–º—ã)
2. [–°–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å (Backend)](#—Å–µ—Ä–≤–µ—Ä–Ω–∞—è-—á–∞—Å—Ç—å-backend)
3. [–ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è —á–∞—Å—Ç—å (Unity)](#–∫–ª–∏–µ–Ω—Ç—Å–∫–∞—è-—á–∞—Å—Ç—å-unity)
4. [–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ Render](#—Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ-–Ω–∞-render)
5. [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](#—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
6. [–†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º](#—Ä–µ—à–µ–Ω–∏–µ-–ø—Ä–æ–±–ª–µ–º)

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

### –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥
- **REST API** - –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π (—Å–æ–∑–¥–∞–Ω–∏–µ/–ø–æ–∏—Å–∫ –∫–æ–º–Ω–∞—Ç, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è)
- **WebSocket (Socket.io)** - –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ (–ø–æ–∑–∏—Ü–∏—è, –∞–Ω–∏–º–∞—Ü–∏—è, –±–æ–π)

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫
- **Backend**: Node.js + Express + Socket.io + MongoDB
- **Frontend**: Unity 2022.3.11f1 + C#
- **Database**: MongoDB Atlas (–æ–±–ª–∞–∫–æ)
- **Hosting**: Render.com

### Tick Rate
- **–ü–æ–∑–∏—Ü–∏—è**: 10 Hz (–∫–∞–∂–¥—ã–µ 0.1 —Å–µ–∫—É–Ω–¥—ã)
- **–ë–æ–π**: 20 Hz (–∫–∞–∂–¥—ã–µ 0.05 —Å–µ–∫—É–Ω–¥—ã)
- **HP/MP**: –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ + –∫–∞–∂–¥—ã–µ 0.5 —Å–µ–∫—É–Ω–¥—ã

---

## üñ•Ô∏è –°–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å (Backend)

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

–û–±–Ω–æ–≤–∏—Ç–µ `package.json`:

```json
{
  "name": "aetherion-server",
  "version": "2.0.0",
  "description": "Aetherion MMO Server with WebSocket support",
  "main": "server.js",
  "scripts": {
    "start": "node server.js",
    "dev": "nodemon server.js"
  },
  "dependencies": {
    "express": "^4.18.2",
    "mongoose": "^7.0.0",
    "bcrypt": "^5.1.0",
    "jsonwebtoken": "^9.0.0",
    "cors": "^2.8.5",
    "dotenv": "^16.0.3",
    "socket.io": "^4.6.0",
    "uuid": "^9.0.0"
  },
  "devDependencies": {
    "nodemon": "^2.0.20"
  },
  "engines": {
    "node": ">=16.0.0"
  }
}
```

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ:
```bash
cd SERVER_CODE
npm install
```

### 2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
SERVER_CODE/
‚îú‚îÄ‚îÄ server.js                 # –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª —Å–µ—Ä–≤–µ—Ä–∞
‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îú‚îÄ‚îÄ User.js              # –ú–æ–¥–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚îÇ   ‚îú‚îÄ‚îÄ Character.js         # –ú–æ–¥–µ–ª—å –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
‚îÇ   ‚îî‚îÄ‚îÄ Room.js              # –ù–û–í–û–ï: –ú–æ–¥–µ–ª—å –∫–æ–º–Ω–∞—Ç—ã
‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îú‚îÄ‚îÄ auth.js              # –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è/–ª–æ–≥–∏–Ω
‚îÇ   ‚îú‚îÄ‚îÄ character.js         # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞–º–∏
‚îÇ   ‚îî‚îÄ‚îÄ room.js              # –ù–û–í–û–ï: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–Ω–∞—Ç–∞–º–∏
‚îú‚îÄ‚îÄ socket/
‚îÇ   ‚îî‚îÄ‚îÄ gameSocket.js        # –ù–û–í–û–ï: WebSocket —Å–µ—Ä–≤–µ—Ä
‚îú‚îÄ‚îÄ middleware/
‚îÇ   ‚îî‚îÄ‚îÄ auth.js              # JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îî‚îÄ‚îÄ .env                     # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```

### 3. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env)

```env
# MongoDB
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/aetherion?retryWrites=true&w=majority

# JWT Secret
JWT_SECRET=your_super_secret_jwt_key_here_change_in_production

# Server
PORT=3000
NODE_ENV=production

# CORS (–¥–ª—è Unity –∫–ª–∏–µ–Ω—Ç–∞)
ALLOWED_ORIGINS=*
```

### 4. –ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ

```bash
npm start
```

–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –Ω–∞ `http://localhost:3000`

–ü—Ä–æ–≤–µ—Ä–∫–∞:
- REST API: `http://localhost:3000/health`
- WebSocket: `ws://localhost:3000`

---

## üéÆ –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è —á–∞—Å—Ç—å (Unity)

### 1. –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã

**Network Scripts** (`Assets/Scripts/Network/`):
- `WebSocketClient.cs` - Socket.io –∫–ª–∏–µ–Ω—Ç –¥–ª—è Unity
- `RoomManager.cs` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–Ω–∞—Ç–∞–º–∏ (REST API)
- `NetworkPlayer.cs` - –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ –∏–≥—Ä–æ–∫–∞
- `NetworkSyncManager.cs` - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –∏–≥—Ä–æ–∫–æ–≤
- `NetworkCombatSync.cs` - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –±–æ—è

**–ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã**:
- `GameSceneManager.cs` - BattleButton —Ç–µ–ø–µ—Ä—å —Å–æ–∑–¥–∞–µ—Ç/–∏—â–µ—Ç –∫–æ–º–Ω–∞—Ç—É
- `ArenaManager.cs` - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä–∞ –ø—Ä–∏ —Å–ø–∞–≤–Ω–µ

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Unity —Å—Ü–µ–Ω—ã

#### GameScene (–≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é)
1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ `GameSceneManager` –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω –∫ –ø—É—Å—Ç–æ–º—É GameObject
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–Ω–æ–ø–∫—É BattleButton –≤ Inspector
3. –î–æ–±–∞–≤—å—Ç–µ `RoomManager` –≤ —Å—Ü–µ–Ω—É:
   - –°–æ–∑–¥–∞–π—Ç–µ –ø—É—Å—Ç–æ–π GameObject ‚Üí "RoomManager"
   - –î–æ–±–∞–≤—å—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `RoomManager`
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Server URL: `https://aetherion-server-gv5u.onrender.com`
4. –î–æ–±–∞–≤—å—Ç–µ `WebSocketClient` –≤ —Å—Ü–µ–Ω—É:
   - –°–æ–∑–¥–∞–π—Ç–µ –ø—É—Å—Ç–æ–π GameObject ‚Üí "WebSocketClient"
   - –î–æ–±–∞–≤—å—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `WebSocketClient`
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Server URL: `https://aetherion-server-gv5u.onrender.com`

**–í–ê–ñ–ù–û**: –û–±–∞ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å `DontDestroyOnLoad`, —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è –º–µ–∂–¥—É —Å—Ü–µ–Ω–∞–º–∏!

#### ArenaScene (–∏–≥—Ä–æ–≤–∞—è –∞—Ä–µ–Ω–∞)
1. `ArenaManager` —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
2. –î–æ–±–∞–≤—å—Ç–µ –º–∞—Å—Å–∏–≤ —Å–ø–∞—É–Ω-–ø–æ–∏–Ω—Ç–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
   - –í Inspector ‚Üí ArenaManager ‚Üí Multiplayer Spawn Points
   - –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ Transform'—ã —Ç–æ—á–µ–∫ —Å–ø–∞–≤–Ω–∞
3. –ù–∞–∑–Ω–∞—á—å—Ç–µ –ø—Ä–µ—Ñ–∞–±—ã –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π:
   - Warrior Prefab
   - Mage Prefab
   - Archer Prefab
   - Rogue Prefab
   - Paladin Prefab

### 3. –°–æ–∑–¥–∞–Ω–∏–µ Nameplate Prefab (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–¢–∞–±–ª–∏—á–∫–∞ —Å –∏–º–µ–Ω–µ–º –Ω–∞–¥ –≥–æ–ª–æ–≤–æ–π –∏–≥—Ä–æ–∫–∞:

1. –°–æ–∑–¥–∞–π—Ç–µ –ø—É—Å—Ç–æ–π GameObject ‚Üí "PlayerNameplate"
2. –î–æ–±–∞–≤—å—Ç–µ Canvas (World Space):
   - Render Mode: World Space
   - Scale: 0.01, 0.01, 0.01
3. –î–æ–±–∞–≤—å—Ç–µ –¥–æ—á–µ—Ä–Ω–∏–π TextMeshPro:
   - –ò–º—è: "UsernameText"
   - Font Size: 24
   - Alignment: Center
   - Color: White
4. –î–æ–±–∞–≤—å—Ç–µ Image –¥–ª—è HP –±–∞—Ä–∞:
   - –ò–º—è: "HealthBar"
   - Image Type: Filled
   - Fill Method: Horizontal
   - Color: Red

–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∫–∞–∫ Prefab: `Assets/Prefabs/PlayerNameplate.prefab`

–ù–∞–∑–Ω–∞—á—å—Ç–µ –≤ `NetworkSyncManager` ‚Üí Nameplate Prefab

---

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ Render

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—Å–µ —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ —Ñ–∞–π–ª—ã –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã:

```bash
git add SERVER_CODE/
git commit -m "Add multiplayer server with WebSocket support"
git push origin main
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ Web Service –Ω–∞ Render

1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ [Render.com](https://render.com)
2. Dashboard ‚Üí New ‚Üí Web Service
3. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –≤–∞—à GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
4. –ù–∞—Å—Ç—Ä–æ–π–∫–∏:
   - **Name**: `aetherion-server`
   - **Region**: Frankfurt (EU Central) - –±–ª–∏–∂–µ –∫ –≤–∞—à–∏–º –∏–≥—Ä–æ–∫–∞–º
   - **Branch**: `main`
   - **Root Directory**: `SERVER_CODE`
   - **Runtime**: Node
   - **Build Command**: `npm install`
   - **Start Command**: `npm start`
   - **Instance Type**: Free (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è) –∏–ª–∏ Starter ($7/–º–µ—Å –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)

5. Environment Variables (–¥–æ–±–∞–≤—å—Ç–µ):
   ```
   MONGODB_URI=mongodb+srv://...
   JWT_SECRET=your_secret_key
   NODE_ENV=production
   PORT=3000
   ```

6. –ù–∞–∂–º–∏—Ç–µ **Create Web Service**

### 3. –ü–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

Render –¥–∞—Å—Ç –≤–∞–º URL –≤–∏–¥–∞: `https://aetherion-server-xxxx.onrender.com`

**–í–∞–∂–Ω–æ**: Free tier –∑–∞—Å—ã–ø–∞–µ—Ç —á–µ—Ä–µ–∑ 15 –º–∏–Ω—É—Ç –±–µ–∑–¥–µ–π—Å—Ç–≤–∏—è. –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—Ä–æ—Å–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–¥–µ—Ä–∂–∫–∞ 30-60 —Å–µ–∫—É–Ω–¥.

### 4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Unity –∫–ª–∏–µ–Ω—Ç–∞

–ü–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –æ–±–Ω–æ–≤–∏—Ç–µ URL –≤ Unity:

**RoomManager.cs**:
```csharp
[SerializeField] private string serverUrl = "https://aetherion-server-xxxx.onrender.com";
```

**WebSocketClient.cs**:
```csharp
[SerializeField] private string serverUrl = "https://aetherion-server-xxxx.onrender.com";
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

```bash
# Health check
curl https://aetherion-server-xxxx.onrender.com/health

# –û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:
{
  "status": "healthy",
  "uptime": 123.45,
  "mongodb": "connected",
  "timestamp": 1234567890
}
```

### –¢–µ—Å—Ç 2: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –ª–æ–≥–∏–Ω

–í Unity:
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∏–≥—Ä—É
2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å —Å –Ω–æ–≤—ã–º –∞–∫–∫–∞—É–Ω—Ç–æ–º
3. –í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É
4. –°–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
5. –í–æ–π–¥–∏—Ç–µ –≤ GameScene

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å Unity –Ω–∞ –æ—à–∏–±–∫–∏.

### –¢–µ—Å—Ç 3: –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–Ω–∞—Ç—ã

1. –í GameScene –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–í –±–æ–π"
2. –ö–æ–Ω—Å–æ–ª—å –¥–æ–ª–∂–Ω–∞ –ø–æ–∫–∞–∑–∞—Ç—å:
   ```
   [GameScene] –ü–æ–∏—Å–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–æ–º–Ω–∞—Ç...
   [RoomManager] –ü–æ–ª—É—á–µ–Ω–æ –∫–æ–º–Ω–∞—Ç: 0
   [GameScene] –ù–µ—Ç –∫–æ–º–Ω–∞—Ç, —Å–æ–∑–¥–∞–µ–º –ø–µ—Ä–≤—É—é
   [RoomManager] ‚úÖ –ö–æ–º–Ω–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∞: YourName's Arena
   [WebSocket] ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–æ!
   [WebSocket] ‚úÖ –í–æ—à–ª–∏ –≤ –∫–æ–º–Ω–∞—Ç—É
   ```

3. –ó–∞–≥—Ä—É–∑–∏—Ç—Å—è ArenaScene

### –¢–µ—Å—Ç 4: –ú—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä (2 –∫–ª–∏–µ–Ω—Ç–∞)

1. **–ö–ª–∏–µ–Ω—Ç 1**: –ù–∞–∂–º–∏—Ç–µ "–í –±–æ–π" ‚Üí –°–æ–∑–¥–∞—Å—Ç—Å—è –∫–æ–º–Ω–∞—Ç–∞
2. **–ö–ª–∏–µ–Ω—Ç 2**: –ù–∞–∂–º–∏—Ç–µ "–í –±–æ–π" ‚Üí –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—Å—è –∫ –∫–æ–º–Ω–∞—Ç–µ –ö–ª–∏–µ–Ω—Ç–∞ 1
3. –û–±–∞ –∏–≥—Ä–æ–∫–∞ –¥–æ–ª–∂–Ω—ã –≤–∏–¥–µ—Ç—å –¥—Ä—É–≥ –¥—Ä—É–≥–∞ –≤ ArenaScene
4. –î–≤–∏–∂–µ–Ω–∏–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
5. –ê—Ç–∞–∫–∏ –º–µ–∂–¥—É –∏–≥—Ä–æ–∫–∞–º–∏ —Ä–∞–±–æ—Ç–∞—é—Ç

### –¢–µ—Å—Ç 5: –ë–æ–π

1. –ù–∞–≤–µ–¥–∏—Ç–µ –º—ã—à–∫—É –Ω–∞ –¥—Ä—É–≥–æ–≥–æ –∏–≥—Ä–æ–∫–∞
2. –ö–ª–∏–∫–Ω–∏—Ç–µ –¥–ª—è –∞—Ç–∞–∫–∏
3. –£ —Ü–µ–ª–∏ –¥–æ–ª–∂–µ–Ω —É–º–µ–Ω—å—à–∏—Ç—å—Å—è HP –±–∞—Ä
4. –ö–æ–Ω—Å–æ–ª—å –ø–æ–∫–∞–∂–µ—Ç:
   ```
   [NetworkCombatSync] ‚öîÔ∏è –ê—Ç–∞–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä: 25 —É—Ä–æ–Ω–∞
   [NetworkSync] –ò–≥—Ä–æ–∫ –ø–æ–ª—É—á–∏–ª 25 —É—Ä–æ–Ω–∞
   ```

---

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞ 1: "WebSocket –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω"

**–ü—Ä–∏—á–∏–Ω–∞**: WebSocketClient –Ω–µ —Å–æ–∑–¥–∞–Ω –∏–ª–∏ –Ω–µ —Å–æ—Ö—Ä–∞–Ω–∏–ª—Å—è –º–µ–∂–¥—É —Å—Ü–µ–Ω–∞–º–∏

**–†–µ—à–µ–Ω–∏–µ**:
1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ GameObject —Å WebSocketClient –∏–º–µ–µ—Ç `DontDestroyOnLoad`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ WebSocketClient.Instance != null –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º
3. –í GameScene –¥–æ–±–∞–≤—å—Ç–µ –ø—Ä–æ–≤–µ—Ä–∫—É:
   ```csharp
   if (WebSocketClient.Instance == null)
   {
       GameObject ws = new GameObject("WebSocketClient");
       ws.AddComponent<WebSocketClient>();
   }
   ```

### –ü—Ä–æ–±–ª–µ–º–∞ 2: "–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å –∫–æ–º–Ω–∞—Ç—É - 401 Unauthorized"

**–ü—Ä–∏—á–∏–Ω–∞**: –¢–æ–∫–µ–Ω JWT –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π –∏–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç

**–†–µ—à–µ–Ω–∏–µ**:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Ç–æ–∫–µ–Ω —Å–æ—Ö—Ä–∞–Ω–µ–Ω: `PlayerPrefs.GetString("UserToken")`
2. –ü–µ—Ä–µ–ª–æ–≥–∏–Ω—å—Ç–µ—Å—å
3. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ JWT_SECRET –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç

### –ü—Ä–æ–±–ª–µ–º–∞ 3: "–ò–≥—Ä–æ–∫–∏ –Ω–µ –≤–∏–¥—è—Ç –¥—Ä—É–≥ –¥—Ä—É–≥–∞"

**–ü—Ä–∏—á–∏–Ω–∞**: NetworkSyncManager –Ω–µ –ø–æ–¥–ø–∏—Å–∞–Ω –Ω–∞ —Å–æ–±—ã—Ç–∏—è WebSocket

**–†–µ—à–µ–Ω–∏–µ**:
1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ NetworkSyncManager —Å–æ–∑–¥–∞–µ—Ç—Å—è –≤ ArenaScene
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ `WebSocketClient.Instance.StartListening()` –≤—ã–∑–≤–∞–Ω
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ –æ—à–∏–±–∫–∏

### –ü—Ä–æ–±–ª–µ–º–∞ 4: "Render —Å–µ—Ä–≤–µ—Ä –∑–∞—Å—ã–ø–∞–µ—Ç"

**–ü—Ä–∏—á–∏–Ω–∞**: Free tier Render –∑–∞—Å—ã–ø–∞–µ—Ç —á–µ—Ä–µ–∑ 15 –º–∏–Ω—É—Ç

**–†–µ—à–µ–Ω–∏–µ**:
- **–í—Ä–µ–º–µ–Ω–Ω–æ–µ**: –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ Starter plan ($7/–º–µ—Å) - —Å–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞—Å—ã–ø–∞–µ—Ç
- **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ [UptimeRobot](https://uptimerobot.com) –¥–ª—è –ø–∏–Ω–≥–∞ –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
- **–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏**: –ó–∞–ø—É—Å–∫–∞–π—Ç–µ —Å–µ—Ä–≤–µ—Ä –ª–æ–∫–∞–ª—å–Ω–æ (`npm start`)

### –ü—Ä–æ–±–ª–µ–º–∞ 5: "MongoDB connection failed"

**–ü—Ä–∏—á–∏–Ω–∞**: –ù–µ–≤–µ—Ä–Ω—ã–π MONGODB_URI –∏–ª–∏ IP –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω –≤ whitelist

**–†–µ—à–µ–Ω–∏–µ**:
1. –ó–∞–π–¥–∏—Ç–µ –≤ MongoDB Atlas ‚Üí Network Access
2. –î–æ–±–∞–≤—å—Ç–µ `0.0.0.0/0` (—Ä–∞–∑—Ä–µ—à–∏—Ç—å –≤—Å–µ IP)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ connection string –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
4. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –ø–∞—Ä–æ–ª—å –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤ (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ URL encoding)

### –ü—Ä–æ–±–ª–µ–º–∞ 6: "CORS –æ—à–∏–±–∫–∞"

**–ü—Ä–∏—á–∏–Ω–∞**: Unity WebGL –Ω–µ –º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∏–∑-–∑–∞ CORS

**–†–µ—à–µ–Ω–∏–µ**:
–í `server.js`:
```javascript
app.use(cors({
    origin: '*', // –†–∞–∑—Ä–µ—à–∏—Ç—å –≤—Å–µ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
    credentials: true
}));

const io = socketIo(server, {
    cors: {
        origin: "*",
        methods: ["GET", "POST"]
    }
});
```

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### Render Dashboard
- –õ–æ–≥–∏: Render Dashboard ‚Üí aetherion-server ‚Üí Logs
- –ú–µ—Ç—Ä–∏–∫–∏: CPU, Memory, Requests

### MongoDB Atlas
- Database ‚Üí Metrics
- Collections ‚Üí Rooms (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Å—Ç–∞—Ä—ã–µ –∫–æ–º–Ω–∞—Ç—ã —É–¥–∞–ª—è—é—Ç—Å—è)

### Unity Console
–§–∏–ª—å—Ç—Ä—ã –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø—Ä–æ–±–ª–µ–º:
- `[NetworkSync]` - —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
- `[WebSocket]` - –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
- `[RoomManager]` - –∫–æ–º–Ω–∞—Ç—ã
- `[NetworkCombatSync]` - –±–æ–π

---

## üéØ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ (Android)

### 1. –£–º–µ–Ω—å—à–∏—Ç—å —á–∞—Å—Ç–æ—Ç—É —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

–í `NetworkSyncManager.cs`:
```csharp
[SerializeField] private float positionSyncInterval = 0.2f; // –ë—ã–ª–æ 0.1 (5 Hz –≤–º–µ—Å—Ç–æ 10 Hz)
```

### 2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å LOD –¥–ª—è —É–¥–∞–ª–µ–Ω–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–≤

```csharp
// –í NetworkPlayer.cs
void Update()
{
    float distance = Vector3.Distance(transform.position, Camera.main.transform.position);

    // –ï—Å–ª–∏ –∏–≥—Ä–æ–∫ –¥–∞–ª–µ–∫–æ - —Å–Ω–∏–∑–∏—Ç—å —á–∞—Å—Ç–æ—Ç—É –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
    if (distance > 30f)
    {
        positionLerpSpeed = 5f; // –ú–µ–¥–ª–µ–Ω–Ω–µ–µ
    }
    else
    {
        positionLerpSpeed = 10f; // –ù–æ—Ä–º–∞–ª—å–Ω–æ
    }
}
```

### 3. –ö–∞—á–µ—Å—Ç–≤–æ –≥—Ä–∞—Ñ–∏–∫–∏

Project Settings ‚Üí Quality ‚Üí Android ‚Üí Low:
- Shadows: Disable
- Anti-Aliasing: Disabled
- Texture Quality: Half Res

---

## üìù –ó–∞–º–µ—Ç–∫–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

### –¢–µ–∫—É—â–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
1. **–ë–µ–∑ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ**: –°–µ—Ä–≤–µ—Ä –≤–µ—Ä–∏—Ç –∫–ª–∏–µ–Ω—Ç—É (–≤–æ–∑–º–æ–∂–µ–Ω —á–∏—Ç–∏–Ω–≥)
2. **–ù–µ—Ç –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏–∏**: –î–≤–∏–∂–µ–Ω–∏–µ –º–æ–∂–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –¥–µ—Ä–≥–∞–Ω–Ω—ã–º –ø—Ä–∏ –ø–ª–æ—Ö–æ–º –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ
3. **–ù–µ—Ç lag compensation**: –°—Ç—Ä–µ–ª—å–±–∞ —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è
4. **–ù–µ—Ç observer pattern**: –ò–≥—Ä–æ–∫–∏ –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏ —Ç–æ–∂–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è

### –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è
- [ ] –°–µ—Ä–≤–µ—Ä–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è —É—Ä–æ–Ω–∞
- [ ] Client-side prediction –¥–ª—è –¥–≤–∏–∂–µ–Ω–∏—è
- [ ] Lag compensation –¥–ª—è –≤—ã—Å—Ç—Ä–µ–ª–æ–≤
- [ ] –ó–æ–Ω—ã –∏–Ω—Ç–µ—Ä–µ—Å–∞ (Area of Interest) - –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–∞–ª–µ–∫–∏—Ö –∏–≥—Ä–æ–∫–æ–≤
- [ ] Reconnect –º–µ—Ö–∞–Ω–∏–∑–º –ø—Ä–∏ —Ä–∞–∑—Ä—ã–≤–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- [ ] Matchmaking –ø–æ —Ä–µ–π—Ç–∏–Ω–≥—É
- [ ] –ß–∞—Ç –≤ –∫–æ–º–Ω–∞—Ç–µ
- [ ] –ì–æ–ª–æ—Å–æ–≤–æ–π —á–∞—Ç (WebRTC)

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º

- [ ] MongoDB Atlas –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] .env —Ñ–∞–π–ª —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ credentials
- [ ] Socket.io –¥–æ–±–∞–≤–ª–µ–Ω –≤ package.json
- [ ] –í—Å–µ —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ —Ñ–∞–π–ª—ã –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã –≤ Git
- [ ] Render Web Service —Å–æ–∑–¥–∞–Ω –∏ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç
- [ ] Unity —Å–∫—Ä–∏–ø—Ç—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ –ø—Ä–æ–µ–∫—Ç
- [ ] RoomManager –∏ WebSocketClient –≤ GameScene
- [ ] Server URL –æ–±–Ω–æ–≤–ª–µ–Ω –≤ Unity —Å–∫—Ä–∏–ø—Ç–∞—Ö
- [ ] –¢–µ—Å—Ç —Å 2 –∫–ª–∏–µ–Ω—Ç–∞–º–∏ –ø—Ä–æ–π–¥–µ–Ω
- [ ] –ë–æ–π –º–µ–∂–¥—É –∏–≥—Ä–æ–∫–∞–º–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Render: Dashboard ‚Üí Logs
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Unity Console –Ω–∞ –æ—à–∏–±–∫–∏
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Network tab –≤ –±—Ä–∞—É–∑–µ—Ä–µ (–µ—Å–ª–∏ WebGL)
4. –°–æ–∑–¥–∞–π—Ç–µ Issue –≤ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

---

**–í–µ—Ä—Å–∏—è**: 2.0.0
**–î–∞—Ç–∞**: 2025-10-10
**–ê–≤—Ç–æ—Ä**: Claude (Anthropic)
**–ü—Ä–æ–µ–∫—Ç**: Aetherion MMO
