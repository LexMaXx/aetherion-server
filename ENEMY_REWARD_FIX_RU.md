# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –í—Ä–∞–≥–∏ –Ω–µ –¥–∞—é—Ç –æ–ø—ã—Ç

## –ü—Ä–æ–±–ª–µ–º–∞
5 –∏–∑ 10 –≤—Ä–∞–≥–æ–≤ –≤ BattleScene **–ù–ï –∏–º–µ—é—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ EnemyRewardSystem**, –ø–æ—ç—Ç–æ–º—É –Ω–µ –≤—ã–¥–∞—é—Ç –æ–ø—ã—Ç –∏ –∑–æ–ª–æ—Ç–æ –ø—Ä–∏ —Å–º–µ—Ä—Ç–∏.

## –†–µ—à–µ–Ω–∏–µ

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ Unity Editor (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. –û—Ç–∫—Ä–æ–π—Ç–µ Unity Editor
2. –û—Ç–∫—Ä–æ–π—Ç–µ BattleScene (`Assets/Scenes/BattleScene.unity`)
3. –í –º–µ–Ω—é –≤—ã–±–µ—Ä–∏—Ç–µ: **Tools ‚Üí Aetherion ‚Üí Add Reward System to Enemies**
4. –û—Ç–∫—Ä–æ–µ—Ç—Å—è –æ–∫–Ω–æ —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –Ω–∞–≥—Ä–∞–¥:
   - **Base Experience:** 30 (–æ–ø—ã—Ç –∑–∞ —É–±–∏–π—Å—Ç–≤–æ)
   - **Enemy Level:** 5 (—É—Ä–æ–≤–µ–Ω—å –≤—Ä–∞–≥–∞)
   - **Base Gold:** 15 (–±–∞–∑–æ–≤–æ–µ –∑–æ–ª–æ—Ç–æ)
   - **Min Gold:** 10 (–º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —Å–ª—É—á–∞–π–Ω–æ–µ –∑–æ–ª–æ—Ç–æ)
   - **Max Gold:** 25 (–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —Å–ª—É—á–∞–π–Ω–æ–µ –∑–æ–ª–æ—Ç–æ)
   - **Show Debug Logs:** ‚úì (–≤–∫–ª—é—á–∏—Ç—å –ª–æ–≥–∏)
5. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"Add to All Enemies in Scene"**
6. –î–æ–∂–¥–∏—Ç–µ—Å—å —Å–æ–æ–±—â–µ–Ω–∏—è –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏
7. **–í–ê–ñ–ù–û:** –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Å—Ü–µ–Ω—É (`Ctrl+S` –∏–ª–∏ `File ‚Üí Save`)

### –í–∞—Ä–∏–∞–Ω—Ç 2: Runtime Auto-Fix (–í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ)

–ï—Å–ª–∏ –Ω–µ —Ö–æ—Ç–∏—Ç–µ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å Editor, –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤ —Å—Ü–µ–Ω—É, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å EnemyRewardSystem –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ:

1. –í BattleScene —Å–æ–∑–¥–∞–π—Ç–µ –ø—É—Å—Ç–æ–π GameObject
2. –ù–∞–∑–æ–≤–∏—Ç–µ –µ–≥–æ "_AutoAddRewardSystem"
3. –î–æ–±–∞–≤—å—Ç–µ —Å–∫—Ä–∏–ø—Ç (—Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π):

```csharp
using UnityEngine;

public class AutoAddRewardSystem : MonoBehaviour
{
    void Start()
    {
        Enemy[] enemies = FindObjectsByType<Enemy>(FindObjectsSortMode.None);

        foreach (Enemy enemy in enemies)
        {
            if (enemy.GetComponent<EnemyRewardSystem>() == null)
            {
                EnemyRewardSystem reward = enemy.gameObject.AddComponent<EnemyRewardSystem>();
                Debug.Log($"‚úÖ Added EnemyRewardSystem to {enemy.gameObject.name}");
            }
        }
    }
}
```

## –ü–æ—á–µ–º—É —ç—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ?

–í —Å—Ü–µ–Ω–µ –±—ã–ª–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ 5 –Ω–æ–≤—ã—Ö –≤—Ä–∞–≥–æ–≤ (—Å–∫–µ–ª–µ—Ç—ã), –Ω–æ –∏–º –Ω–µ –¥–æ–±–∞–≤–∏–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç EnemyRewardSystem.

### –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å—Ü–µ–Ω—ã:
- ‚úÖ 10 –≤—Ä–∞–≥–æ–≤ —Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º `Enemy`
- ‚úÖ 5 –≤—Ä–∞–≥–æ–≤ —Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º `EnemyRewardSystem` (—Ä–∞–±–æ—Ç–∞—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ)
- ‚ùå **5 –≤—Ä–∞–≥–æ–≤ –ë–ï–ó –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ `EnemyRewardSystem`** (–Ω–µ –¥–∞—é—Ç –Ω–∞–≥—Ä–∞–¥—ã)

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞ –Ω–∞–≥—Ä–∞–¥:

```
–í—Ä–∞–≥ —É–º–∏—Ä–∞–µ—Ç ‚Üí Enemy.Die()
    ‚Üí –í—ã–∑—ã–≤–∞–µ—Ç —Å–æ–±—ã—Ç–∏–µ OnDeath
    ‚Üí EnemyRewardSystem –ø–æ–¥–ø–∏—Å–∞–Ω –Ω–∞ OnDeath
    ‚Üí EnemyRewardSystem.OnEnemyDeath()
    ‚Üí –ù–∞—Ö–æ–¥–∏—Ç –∏–≥—Ä–æ–∫–∞ —á–µ—Ä–µ–∑ FindLocalPlayer()
    ‚Üí –î–∞—ë—Ç –æ–ø—ã—Ç —á–µ—Ä–µ–∑ LevelingSystem.AddExperience()
    ‚Üí –î–∞—ë—Ç –∑–æ–ª–æ—Ç–æ —á–µ—Ä–µ–∑ MongoInventoryManager.AddGold()
```

–ï—Å–ª–∏ **–Ω–µ—Ç EnemyRewardSystem** ‚Üí —Å–æ–±—ã—Ç–∏–µ OnDeath —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç, –Ω–æ **–Ω–∏–∫—Ç–æ –Ω–µ –ø–æ–¥–ø–∏—Å–∞–Ω** ‚Üí –Ω–∞–≥—Ä–∞–¥—ã –Ω–µ –≤—ã–¥–∞—é—Ç—Å—è!

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∏–≥—Ä—É –≤ Unity Editor
2. –û—Ç–∫—Ä–æ–π—Ç–µ Console (Ctrl+Shift+C)
3. –£–±–µ–π—Ç–µ –ª—é–±–æ–≥–æ –≤—Ä–∞–≥–∞
4. –î–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è –ª–æ–≥–∏:
```
[EnemyRewardSystem] üíÄ –í—Ä–∞–≥ Ork patroll —É–±–∏—Ç!
[EnemyRewardSystem] üîç –ü–æ–∏—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∏–≥—Ä–æ–∫–∞...
[EnemyRewardSystem] ‚úÖ –ò–≥—Ä–æ–∫ –Ω–∞–π–¥–µ–Ω —á–µ—Ä–µ–∑ —Ç–µ–≥ 'Player': MagePlayer
[EnemyRewardSystem] üéØ –ü–æ–ø—ã—Ç–∫–∞ –≤—ã–¥–∞—Ç—å –æ–ø—ã—Ç –∏–≥—Ä–æ–∫—É MagePlayer...
[EnemyRewardSystem] ‚úÖ –í—ã–¥–∞–Ω–æ 30 –æ–ø—ã—Ç–∞ –∏–≥—Ä–æ–∫—É MagePlayer
[EnemyRewardSystem] üí∞ –ü–æ–ø—ã—Ç–∫–∞ –≤—ã–¥–∞—Ç—å –∑–æ–ª–æ—Ç–æ –∏–≥—Ä–æ–∫—É MagePlayer...
[EnemyRewardSystem] ‚úÖ –í—ã–¥–∞–Ω–æ 15 –∑–æ–ª–æ—Ç–∞ –∏–≥—Ä–æ–∫—É MagePlayer
```

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ

### –ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å EnemyRewardSystem —Å–æ –≤—Å–µ—Ö –≤—Ä–∞–≥–æ–≤:
1. Tools ‚Üí Aetherion ‚Üí Add Reward System to Enemies
2. –ù–∞–∂–º–∏—Ç–µ **"Remove from All Enemies in Scene"**

### –ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –Ω–∞–≥—Ä–∞–¥—ã –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –≤—Ä–∞–≥–∞:
1. –í—ã–±–µ—Ä–∏—Ç–µ –≤—Ä–∞–≥–∞ –≤ Hierarchy
2. –í Inspector –Ω–∞–π–¥–∏—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç **EnemyRewardSystem**
3. –ò–∑–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
   - `baseExperience` - –±–∞–∑–æ–≤—ã–π –æ–ø—ã—Ç
   - `enemyLevel` - —É—Ä–æ–≤–µ–Ω—å –≤—Ä–∞–≥–∞ (–≤–ª–∏—è–µ—Ç –Ω–∞ –æ–ø—ã—Ç)
   - `baseGold` - –±–∞–∑–æ–≤–æ–µ –∑–æ–ª–æ—Ç–æ
   - `minGold` / `maxGold` - —Å–ª—É—á–∞–π–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω –∑–æ–ª–æ—Ç–∞

## –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- [EnemyRewardSystem.cs](Assets/Scripts/Stats/EnemyRewardSystem.cs) - —Å–∏—Å—Ç–µ–º–∞ –Ω–∞–≥—Ä–∞–¥
- [AddRewardSystemToEnemies.cs](Assets/Scripts/Editor/AddRewardSystemToEnemies.cs) - Editor —Å–∫—Ä–∏–ø—Ç
- [Enemy.cs](Assets/Scripts/Player/Enemy.cs) - –±–∞–∑–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤—Ä–∞–≥–∞
