# ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ: Hit Effect –∏–∑ BasicAttackConfig

## –ü—Ä–æ–±–ª–µ–º–∞

**–°–∏–º–ø—Ç–æ–º:**
```
[ArrowProjectile] ‚ö†Ô∏è Hit effect –Ω–µ –Ω–∞–∑–Ω–∞—á–µ–Ω!
```

**–ü—Ä–∏—á–∏–Ω–∞:**
- –í Unity Inspector –Ω–∞–∑–Ω–∞—á–µ–Ω —ç—Ñ—Ñ–µ–∫—Ç –ø–æ–ø–∞–¥–∞–Ω–∏—è: `CFXR3 Hit Light B (Air)`
- –ù–æ ArrowProjectile **–ù–ï –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª** —ç—Ç—É –Ω–∞—Å—Ç—Ä–æ–π–∫—É –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏
- PlayerAttackNew –Ω–µ –ø–µ—Ä–µ–¥–∞–≤–∞–ª hitEffect –∏–∑ BasicAttackConfig –≤ —Å–Ω–∞—Ä—è–¥

---

## –†–µ—à–µ–Ω–∏–µ

–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–µ—Ä–µ–¥–∞—á–∞ `hitEffectPrefab` –∏–∑ BasicAttackConfig –≤ —Å–Ω–∞—Ä—è–¥—ã.

### –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:

#### 1. **ArrowProjectile.cs**

–î–æ–±–∞–≤–ª–µ–Ω –ø—É–±–ª–∏—á–Ω—ã–π –º–µ—Ç–æ–¥ `SetHitEffect`:

```csharp
/// <summary>
/// –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —ç—Ñ—Ñ–µ–∫—Ç –ø–æ–ø–∞–¥–∞–Ω–∏—è –∏–∑ BasicAttackConfig
/// </summary>
public void SetHitEffect(ParticleSystem effect)
{
    hitEffect = effect;
    Debug.Log($"[ArrowProjectile] üé® Hit effect —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω: {effect?.name ?? "None"}");
}
```

**–°—Ç—Ä–æ–∫–∏:** 98-105

---

#### 2. **CelestialProjectile.cs**

–î–æ–±–∞–≤–ª–µ–Ω —Ç–∞–∫–æ–π –∂–µ –º–µ—Ç–æ–¥:

```csharp
/// <summary>
/// –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —ç—Ñ—Ñ–µ–∫—Ç –ø–æ–ø–∞–¥–∞–Ω–∏—è –∏–∑ BasicAttackConfig
/// </summary>
public void SetHitEffect(ParticleSystem effect)
{
    hitEffect = effect;
    Debug.Log($"[CelestialProjectile] üé® Hit effect —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω: {effect?.name ?? "None"}");
}
```

**–°—Ç—Ä–æ–∫–∏:** 99-106

---

#### 3. **Projectile.cs**

–î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ (–¥–ª—è GameObject):

```csharp
/// <summary>
/// –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —ç—Ñ—Ñ–µ–∫—Ç –ø–æ–ø–∞–¥–∞–Ω–∏—è –∏–∑ BasicAttackConfig
/// </summary>
public void SetHitEffect(GameObject effect)
{
    hitEffect = effect;
    Debug.Log($"[Projectile] üé® Hit effect —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω: {effect?.name ?? "None"}");
}
```

**–°—Ç—Ä–æ–∫–∏:** 53-60

---

#### 4. **PlayerAttackNew.cs**

–û–±–Ω–æ–≤–ª—ë–Ω –º–µ—Ç–æ–¥ `SpawnProjectile` - —Ç–µ–ø–µ—Ä—å –ø–µ—Ä–µ–¥–∞—ë—Ç hitEffect:

```csharp
if (celestialProj != null)
{
    celestialProj.Initialize(targetTransform, damage, direction, gameObject);

    // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º hitEffect –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞
    if (attackConfig.hitEffectPrefab != null)
    {
        ParticleSystem hitEffect = attackConfig.hitEffectPrefab.GetComponent<ParticleSystem>();
        if (hitEffect != null)
        {
            celestialProj.SetHitEffect(hitEffect);
        }
    }

    Debug.Log($"[PlayerAttackNew] üéØ CelestialProjectile —Å–æ–∑–¥–∞–Ω –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω!");
}
else if (arrowProj != null)
{
    arrowProj.Initialize(targetTransform, damage, direction, gameObject);

    // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º hitEffect –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞
    if (attackConfig.hitEffectPrefab != null)
    {
        ParticleSystem hitEffect = attackConfig.hitEffectPrefab.GetComponent<ParticleSystem>();
        if (hitEffect != null)
        {
            arrowProj.SetHitEffect(hitEffect);
        }
    }

    Debug.Log($"[PlayerAttackNew] üéØ ArrowProjectile —Å–æ–∑–¥–∞–Ω –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω!");
}
else if (baseProj != null)
{
    baseProj.Initialize(targetTransform, damage, direction, gameObject);

    // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º hitEffect –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞
    if (attackConfig.hitEffectPrefab != null)
    {
        baseProj.SetHitEffect(attackConfig.hitEffectPrefab);
    }

    Debug.Log($"[PlayerAttackNew] üéØ Projectile —Å–æ–∑–¥–∞–Ω –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω!");
}
```

**–°—Ç—Ä–æ–∫–∏:** 372-415

---

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

```
1. BasicAttackConfig_Archer ‚Üí hitEffectPrefab = "CFXR3 Hit Light B"
2. PlayerAttackNew.SpawnProjectile() ‚Üí —Å–æ–∑–¥–∞—ë—Ç ArrowProjectile
3. arrowProj.Initialize(...) ‚Üê hitEffect –ù–ï –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è
4. ArrowProjectile.hitEffect = null ‚ùå
5. –ü—Ä–∏ –ø–æ–ø–∞–¥–∞–Ω–∏–∏: "[ArrowProjectile] ‚ö†Ô∏è Hit effect –Ω–µ –Ω–∞–∑–Ω–∞—á–µ–Ω!"
```

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

```
1. BasicAttackConfig_Archer ‚Üí hitEffectPrefab = "CFXR3 Hit Light B"
2. PlayerAttackNew.SpawnProjectile() ‚Üí —Å–æ–∑–¥–∞—ë—Ç ArrowProjectile
3. arrowProj.Initialize(...)
4. arrowProj.SetHitEffect(hitEffect) ‚Üê –ø–µ—Ä–µ–¥–∞—ë–º –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞ ‚úÖ
5. ArrowProjectile.hitEffect = ParticleSystem ‚úÖ
6. –ü—Ä–∏ –ø–æ–ø–∞–¥–∞–Ω–∏–∏: –≤–∏–∑—É–∞–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç —Å–æ–∑–¥–∞—ë—Ç—Å—è! üí•
```

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å—Ç–∏—Ç–µ Unity:

1. **–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —ç—Ñ—Ñ–µ–∫—Ç –Ω–∞–∑–Ω–∞—á–µ–Ω:**
   ```
   BasicAttackConfig_Archer ‚Üí Hit Effect Prefab ‚Üí CFXR3 Hit Light B (Air)
   ```

2. **–ù–∞–∂–º–∏—Ç–µ Play ‚ñ∂Ô∏è**

3. **–ù–∞–∂–º–∏—Ç–µ –õ–ö–ú** –¥–ª—è –∞—Ç–∞–∫–∏

### –û–∂–∏–¥–∞–µ–º—ã–µ –ª–æ–≥–∏:

**–ë—ã–ª–æ:**
```
[PlayerAttackNew] üéØ ArrowProjectile —Å–æ–∑–¥–∞–Ω –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω!
[ArrowProjectile] üí• –ü–æ–ø–∞–¥–∞–Ω–∏–µ –≤ DummyEnemy_2! –£—Ä–æ–Ω: 35
[ArrowProjectile] ‚ö†Ô∏è Hit effect –Ω–µ –Ω–∞–∑–Ω–∞—á–µ–Ω!  ‚ùå
```

**–°—Ç–∞–ª–æ:**
```
[PlayerAttackNew] üéØ ArrowProjectile —Å–æ–∑–¥–∞–Ω –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω!
[ArrowProjectile] üé® Hit effect —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω: CFXR3 Hit Light B (Air)  ‚úÖ
[ArrowProjectile] üí• –ü–æ–ø–∞–¥–∞–Ω–∏–µ –≤ DummyEnemy_2! –£—Ä–æ–Ω: 35
[ArrowProjectile] üí• –≠—Ñ—Ñ–µ–∫—Ç –≤–∑—Ä—ã–≤–∞ —Å–æ–∑–¥–∞–Ω: CFXR3 Hit Light B (Air)  ‚úÖ
```

### –í–∏–∑—É–∞–ª—å–Ω–æ:

- ‚úÖ –°—Ç—Ä–µ–ª–∞ –ª–µ—Ç–∏—Ç
- ‚úÖ –ü–æ–ø–∞–¥–∞–µ—Ç –≤ DummyEnemy
- ‚úÖ **–ü–æ—è–≤–ª—è–µ—Ç—Å—è –≤–∏–∑—É–∞–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç!** (–≤—Å–ø—ã—à–∫–∞ —Å–≤–µ—Ç–∞)
- ‚úÖ –£—Ä–æ–Ω –Ω–∞–Ω–æ—Å–∏—Ç—Å—è
- ‚úÖ –°—Ç—Ä–µ–ª–∞ –∏—Å—á–µ–∑–∞–µ—Ç

---

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ü–æ—á–µ–º—É ParticleSystem –¥–ª—è ArrowProjectile/CelestialProjectile?

```csharp
// –í ArrowProjectile –∏ CelestialProjectile:
[SerializeField] private ParticleSystem hitEffect;

// –í Projectile:
[SerializeField] private GameObject hitEffect;
```

**ArrowProjectile/CelestialProjectile** –∏—Å–ø–æ–ª—å–∑—É—é—Ç –±–æ–ª–µ–µ –Ω–æ–≤—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É - —Ö—Ä–∞–Ω—è—Ç –ø—Ä—è–º—É—é —Å—Å—ã–ª–∫—É –Ω–∞ ParticleSystem –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏.

**Projectile** (–±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å) –∏—Å–ø–æ–ª—å–∑—É–µ—Ç GameObject –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏.

### –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è GameObject ‚Üí ParticleSystem:

```csharp
if (attackConfig.hitEffectPrefab != null)
{
    ParticleSystem hitEffect = attackConfig.hitEffectPrefab.GetComponent<ParticleSystem>();
    if (hitEffect != null)
    {
        arrowProj.SetHitEffect(hitEffect);
    }
}
```

BasicAttackConfig —Ö—Ä–∞–Ω–∏—Ç **GameObject**, –Ω–æ –º—ã –∏–∑–≤–ª–µ–∫–∞–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç **ParticleSystem** –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ–¥–∞—á–µ–π.

---

## –ß—Ç–æ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç

### ‚úÖ –í—Å–µ —Å–Ω–∞—Ä—è–¥—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç hitEffect –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞:

1. **CelestialProjectile** (Celestial Ball - –ú–∞–≥)
   - ‚úÖ –ß–∏—Ç–∞–µ—Ç hitEffectPrefab –∏–∑ BasicAttackConfig_Mage
   - ‚úÖ –°–æ–∑–¥–∞—ë—Ç —ç—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏ –ø–æ–ø–∞–¥–∞–Ω–∏–∏

2. **ArrowProjectile** (—Å—Ç—Ä–µ–ª—ã - –õ—É—á–Ω–∏–∫)
   - ‚úÖ –ß–∏—Ç–∞–µ—Ç hitEffectPrefab –∏–∑ BasicAttackConfig_Archer
   - ‚úÖ –°–æ–∑–¥–∞—ë—Ç —ç—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏ –ø–æ–ø–∞–¥–∞–Ω–∏–∏

3. **Projectile** (–±–∞–∑–æ–≤—ã–µ —Å–Ω–∞—Ä—è–¥—ã)
   - ‚úÖ –ß–∏—Ç–∞–µ—Ç hitEffectPrefab –∏–∑ BasicAttackConfig
   - ‚úÖ –°–æ–∑–¥–∞—ë—Ç —ç—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏ –ø–æ–ø–∞–¥–∞–Ω–∏–∏

---

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ –¥–ª—è –¥—Ä—É–≥–∏—Ö –∫–ª–∞—Å—Å–æ–≤

–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ –Ω–∞–∑–Ω–∞—á–∏—Ç—å —ç—Ñ—Ñ–µ–∫—Ç—ã –ø–æ–ø–∞–¥–∞–Ω–∏—è —á–µ—Ä–µ–∑ Inspector:

### –î–ª—è –ú–∞–≥–∞:
```
BasicAttackConfig_Mage ‚Üí Hit Effect Prefab
–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è: "CFXR3 Fire Explosion B" (–æ–≥–Ω–µ–Ω–Ω—ã–π –≤–∑—Ä—ã–≤)
```

### –î–ª—è –õ—É—á–Ω–∏–∫–∞:
```
BasicAttackConfig_Archer ‚Üí Hit Effect Prefab
–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è: "CFXR3 Hit Light B (Air)" (–≤—Å–ø—ã—à–∫–∞ —Å–≤–µ—Ç–∞)
```

### –î–ª—è –í–æ–∏–Ω–∞ (–∫–æ–≥–¥–∞ —Å–æ–∑–¥–∞–¥–∏—Ç–µ):
```
BasicAttackConfig_Warrior ‚Üí Hit Effect Prefab
–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è: "CFXR3 Hit Leaves A (Lit)" (–∏—Å–∫—Ä—ã –æ—Ç —É–¥–∞—Ä–∞ –º–µ—á–∞)
```

---

## –°—Ç–∞—Ç—É—Å

‚úÖ **ArrowProjectile.cs** - –¥–æ–±–∞–≤–ª–µ–Ω SetHitEffect()
‚úÖ **CelestialProjectile.cs** - –¥–æ–±–∞–≤–ª–µ–Ω SetHitEffect()
‚úÖ **Projectile.cs** - –¥–æ–±–∞–≤–ª–µ–Ω SetHitEffect()
‚úÖ **PlayerAttackNew.cs** - –ø–µ—Ä–µ–¥–∞—ë—Ç hitEffect –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞
‚úÖ **–ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é!**

---

**–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å!** –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∏–≥—Ä—É –∏ —É–≤–∏–¥–∏—Ç–µ –∫—Ä–∞—Å–∏–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã –ø–æ–ø–∞–¥–∞–Ω–∏—è! üí•
