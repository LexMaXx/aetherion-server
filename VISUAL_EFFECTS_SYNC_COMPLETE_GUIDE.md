# –ü–û–õ–ù–û–ï –†–£–ö–û–í–û–î–°–¢–í–û –ü–û –°–ò–ù–•–†–û–ù–ò–ó–ê–¶–ò–ò –í–ò–ó–£–ê–õ–¨–ù–´–• –≠–§–§–ï–ö–¢–û–í

–≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–∫—Ä—ã–≤–∞–µ—Ç –≤—Å–µ –∞—Å–ø–µ–∫—Ç—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ –≤ –º—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä–µ:
- ‚úÖ –°–Ω–∞—Ä—è–¥—ã (projectiles)
- ‚úÖ –ê–Ω–∏–º–∞—Ü–∏–∏ –∫–∞—Å—Ç–∞
- ‚úÖ –ê—É—Ä —ç—Ñ—Ñ–µ–∫—Ç—ã (–±–∞—Ñ—Ñ—ã/–¥–µ–±–∞—Ñ—Ñ—ã)
- ‚úÖ –í–∑—Ä—ã–≤—ã –∏ hit —ç—Ñ—Ñ–µ–∫—Ç—ã
- ‚úÖ Stun/Root –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è

---

## üìÅ –°–û–ó–î–ê–ù–ù–´–ï –ö–û–ú–ü–û–ù–ï–ù–¢–´

### 1. ProjectileSyncHelper.cs
–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç —Å–Ω–∞—Ä—è–¥—ã —Å —Å–µ—Ä–≤–µ—Ä–æ–º (–°–û–ó–î–ê–ù ‚úÖ)

### 2. SkillCastAnimationSync.cs
–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç –∞–Ω–∏–º–∞—Ü–∏–∏ –∫–∞—Å—Ç–∞ (–°–û–ó–î–ê–ù ‚úÖ)

---

## üéØ –ß–¢–û –£–ñ–ï –†–ê–ë–û–¢–ê–ï–¢

### ‚úÖ –°—Ç–∞—Ç—É—Å-—ç—Ñ—Ñ–µ–∫—Ç—ã (Stun, Root, Poison, Burn, etc.)
**–§–∞–π–ª:** `EffectManager.cs` - –º–µ—Ç–æ–¥ `ApplyEffect()`

–≠—Ñ—Ñ–µ–∫—Ç—ã **–£–ñ–ï –°–ò–ù–•–†–û–ù–ò–ó–ò–†–û–í–ê–ù–´** —á–µ—Ä–µ–∑ —Å–æ–±—ã—Ç–∏–µ `effect_applied`:
- –í—Å–µ 28 —Ç–∏–ø–æ–≤ —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- –í–∏–∑—É–∞–ª—å–Ω—ã–µ —á–∞—Å—Ç–∏—Ü—ã —Å–æ–∑–¥–∞—é—Ç—Å—è —É –≤—Å–µ—Ö –∏–≥—Ä–æ–∫–æ–≤
- –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ —Å–∏–ª–∞ —ç—Ñ—Ñ–µ–∫—Ç–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```csharp
// –í EffectManager.cs, –º–µ—Ç–æ–¥ ApplyEffect():
if (config.syncWithServer && socketIO != null && socketIO.IsConnected)
{
    socketIO.SendEffectApplied(config, targetSocketId);
}
```

‚úÖ **–†–ê–ë–û–¢–ê–ï–¢ –ë–ï–ó –ò–ó–ú–ï–ù–ï–ù–ò–ô**

---

## üîß –ß–¢–û –ù–£–ñ–ù–û –î–û–ë–ê–í–ò–¢–¨

### 1. –°–ò–ù–•–†–û–ù–ò–ó–ê–¶–ò–Ø –°–ù–ê–†–Ø–î–û–í

#### A. –í SkillExecutor.cs (–º–µ—Ç–æ–¥ LaunchProjectile)

**–ü–æ—Å–ª–µ —Å—Ç—Ä–æ–∫–∏** `GameObject projectile = Instantiate(...)`

```csharp
// üöÄ SYNC: Add sync helper to projectile
ProjectileSyncHelper syncHelper = projectile.AddComponent<ProjectileSyncHelper>();
string targetSocketId = "";
if (target != null)
{
    NetworkPlayer networkTarget = target.GetComponent<NetworkPlayer>();
    if (networkTarget != null)
    {
        targetSocketId = networkTarget.socketId;
    }
}
syncHelper.SyncToServer(skill.skillId, spawnPos, direction, targetSocketId);
```

#### B. –í NetworkSyncManager.cs

**–í SubscribeToNetworkEvents():**
```csharp
socketIO.On("projectile_spawned", OnProjectileSpawned);
```

**–î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥:**
```csharp
private void OnProjectileSpawned(string jsonData)
{
    try
    {
        var data = JsonConvert.DeserializeObject<ProjectileSpawnedEvent>(jsonData);

        // –ù–µ —Å–æ–∑–¥–∞—ë–º –¥–ª—è —Å–µ–±—è
        if (data.casterSocketId == socketIO.GetSocketId()) return;

        // –ó–∞–≥—Ä—É–∑–∏—Ç—å skill config
        SkillConfig[] allSkills = Resources.LoadAll<SkillConfig>("Skills");
        SkillConfig skill = System.Array.Find(allSkills, s => s.skillId == data.skillId);

        if (skill == null || skill.projectilePrefab == null) return;

        // –°–æ–∑–¥–∞—Ç—å —Å–Ω–∞—Ä—è–¥ –≤–∏–∑—É–∞–ª—å–Ω–æ
        Vector3 spawnPos = new Vector3(data.spawnPosition.x, data.spawnPosition.y, data.spawnPosition.z);
        Vector3 direction = new Vector3(data.direction.x, data.direction.y, data.direction.z);

        GameObject projectile = Instantiate(skill.projectilePrefab, spawnPos, Quaternion.LookRotation(direction));

        // –ù–∞–π—Ç–∏ —Ü–µ–ª—å
        Transform targetTransform = null;
        if (!string.IsNullOrEmpty(data.targetSocketId) && networkPlayers.ContainsKey(data.targetSocketId))
        {
            targetTransform = networkPlayers[data.targetSocketId].transform;
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –≤–∏–∑—É–∞–ª—å–Ω–æ (damage = 0)
        var celestial = projectile.GetComponent<CelestialProjectile>();
        var arrow = projectile.GetComponent<ArrowProjectile>();
        var proj = projectile.GetComponent<Projectile>();

        if (celestial != null)
            celestial.Initialize(targetTransform, 0f, direction, null, null, true, false);
        else if (arrow != null)
            arrow.Initialize(targetTransform, 0f, direction, null, true, false);
        else if (proj != null)
            proj.Initialize(targetTransform, 0f, direction, null, null);

        Debug.Log($"[NetworkSync] ‚úÖ Visual projectile created for skill {data.skillId}");
    }
    catch (System.Exception e)
    {
        Debug.LogError($"[NetworkSync] Error creating projectile: {e.Message}");
    }
}
```

**–î–æ–±–∞–≤–∏—Ç—å –∫–ª–∞—Å—Å —Å–æ–±—ã—Ç–∏—è:**
```csharp
[System.Serializable]
public class ProjectileSpawnedEvent
{
    public string casterSocketId;
    public int skillId;
    public Vector3Simple spawnPosition;
    public Vector3Simple direction;
    public string targetSocketId;
}
```

#### C. –í Server/server.js

```javascript
// Handle projectile spawned
socket.on('projectile_spawned', (data) => {
    try {
        const projectileData = JSON.parse(data);
        console.log(`[Projectile] ${player.username} spawned projectile: skillId=${projectileData.skillId}`);

        // Broadcast to all players in room except sender
        socket.to(player.roomId).emit('projectile_spawned', JSON.stringify({
            casterSocketId: socket.id,
            skillId: projectileData.skillId,
            spawnPosition: projectileData.spawnPosition,
            direction: projectileData.direction,
            targetSocketId: projectileData.targetSocketId || ''
        }));
    } catch (err) {
        console.error('[Projectile] Error:', err);
    }
});
```

---

### 2. –°–ò–ù–•–†–û–ù–ò–ó–ê–¶–ò–Ø –ê–ù–ò–ú–ê–¶–ò–ô –ö–ê–°–¢–ê

#### A. –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤ Player prefabs

–í Unity Editor:
1. –û—Ç–∫—Ä—ã—Ç—å –≤—Å–µ player prefabs (Archer, Mage, Warrior, etc.)
2. –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `SkillCastAnimationSync`
3. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å prefabs

–ò–ª–∏ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ –≤ SkillExecutor.Awake():
```csharp
if (GetComponent<SkillCastAnimationSync>() == null)
{
    gameObject.AddComponent<SkillCastAnimationSync>();
}
```

#### B. –í SkillExecutor.cs (–º–µ—Ç–æ–¥ ExecuteSkill)

**–ü–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–æ–∫** (–ø–µ—Ä–µ–¥ `manaSystem.UseMana()`):

```csharp
// üé¨ –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –∞–Ω–∏–º–∞—Ü–∏—é –∫–∞—Å—Ç–∞ –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å
SkillCastAnimationSync animSync = GetComponent<SkillCastAnimationSync>();
if (animSync != null && !string.IsNullOrEmpty(skill.animationTrigger))
{
    animSync.PlayCastAnimation(skill.animationTrigger, skill.animationSpeed, skill.castTime);
}
```

#### C. –í NetworkSyncManager.cs

**–í SubscribeToNetworkEvents():**
```csharp
socketIO.On("skill_cast_animation", OnSkillCastAnimation);
```

**–î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥:**
```csharp
private void OnSkillCastAnimation(string jsonData)
{
    try
    {
        var data = JsonConvert.DeserializeObject<SkillCastAnimationEvent>(jsonData);

        // –ù–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º –¥–ª—è —Å–µ–±—è
        if (data.casterSocketId == socketIO.GetSocketId()) return;

        // –ù–∞–π—Ç–∏ –∏–≥—Ä–æ–∫–∞
        GameObject playerObj = null;
        if (networkPlayers.ContainsKey(data.casterSocketId))
        {
            playerObj = networkPlayers[data.casterSocketId].gameObject;
        }

        if (playerObj == null) return;

        // –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –∞–Ω–∏–º–∞—Ü–∏—é
        SkillCastAnimationSync animSync = playerObj.GetComponent<SkillCastAnimationSync>();
        if (animSync != null)
        {
            animSync.PlayRemoteCastAnimation(data.animationTrigger, data.animationSpeed);
        }

        Debug.Log($"[NetworkSync] üé¨ Cast animation played for {data.casterSocketId}");
    }
    catch (System.Exception e)
    {
        Debug.LogError($"[NetworkSync] Error playing cast animation: {e.Message}");
    }
}
```

**–î–æ–±–∞–≤–∏—Ç—å –∫–ª–∞—Å—Å —Å–æ–±—ã—Ç–∏—è:**
```csharp
[System.Serializable]
public class SkillCastAnimationEvent
{
    public string casterSocketId;
    public string animationTrigger;
    public float animationSpeed;
    public float castTime;
}
```

#### D. –í Server/server.js

```javascript
// Handle skill cast animation
socket.on('skill_cast_animation', (data) => {
    try {
        const animData = JSON.parse(data);
        console.log(`[CastAnim] ${player.username} casting: ${animData.animationTrigger}`);

        // Broadcast to all players in room except sender
        socket.to(player.roomId).emit('skill_cast_animation', JSON.stringify({
            casterSocketId: socket.id,
            animationTrigger: animData.animationTrigger,
            animationSpeed: animData.animationSpeed,
            castTime: animData.castTime
        }));
    } catch (err) {
        console.error('[CastAnim] Error:', err);
    }
});
```

---

### 3. –°–ò–ù–•–†–û–ù–ò–ó–ê–¶–ò–Ø –≠–§–§–ï–ö–¢–û–í –ö–ê–°–¢–ê –ò –í–ó–†–´–í–û–í

#### –í SkillExecutor.cs

**–ò–∑–º–µ–Ω–∏—Ç—å –º–µ—Ç–æ–¥ SpawnEffect:**

```csharp
private void SpawnEffect(GameObject effectPrefab, Vector3 position, Quaternion rotation, bool syncToNetwork = false, string effectType = "cast")
{
    if (effectPrefab == null) return;

    GameObject effect = Instantiate(effectPrefab, position, rotation);

    // üåê –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤ –º—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä–µ
    if (syncToNetwork)
    {
        SocketIOManager socketIO = SocketIOManager.Instance;
        if (socketIO != null && socketIO.IsConnected)
        {
            socketIO.SendVisualEffect(
                effectType,
                effectPrefab.name,
                position,
                rotation,
                "",
                3f,
                null
            );
            Log($"üé® Effect synced: {effectPrefab.name}");
        }
    }

    Destroy(effect, 3f);
}
```

**–û–±–Ω–æ–≤–∏—Ç—å –≤—ã–∑–æ–≤—ã:**
```csharp
// –î–ª—è —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ –∫–∞—Å—Ç–∞
SpawnEffect(skill.castEffectPrefab, spawnPos, Quaternion.identity, true, "cast");

// –î–ª—è —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ –ø–æ–ø–∞–¥–∞–Ω–∏—è (–≤ OnCollision/OnTrigger)
SpawnEffect(hitEffectPrefab, hitPos, Quaternion.identity, true, "hit");

// –î–ª—è —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ –≤–∑—Ä—ã–≤–∞ (AOE skills)
SpawnEffect(explosionPrefab, aoeCenter, Quaternion.identity, true, "explosion");
```

---

## üé® –í–ò–ó–£–ê–õ–ò–ó–ê–¶–ò–Ø –ê–£–†–ù–´–• –≠–§–§–ï–ö–¢–û–í

### –£–ñ–ï –†–ê–ë–û–¢–ê–ï–¢! ‚úÖ

–ê—É—Ä —ç—Ñ—Ñ–µ–∫—Ç—ã (–±–∞—Ñ—Ñ—ã/–¥–µ–±–∞—Ñ—Ñ—ã) **—É–∂–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã** —á–µ—Ä–µ–∑ `EffectManager.ApplyEffect()`:

**–ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤:**
- üü° Battle Rage (Warrior) - –æ–≥–Ω–µ–Ω–Ω–∞—è –∞—É—Ä–∞
- üü¢ Defensive Stance (Warrior) - –∑–µ–ª—ë–Ω—ã–π —â–∏—Ç
- ‚ö° Eagle Eye (Archer) - –∑–æ–ª–æ—Ç–∞—è –∞—É—Ä–∞
- üü£ Soul Drain (Rogue) - —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–µ —á–∞—Å—Ç–∏—Ü—ã
- ‚ú® Divine Protection (Paladin) - –∑–æ–ª–æ—Ç–æ–π —â–∏—Ç

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
–û—Ç–∫—Ä–æ–π—Ç–µ `Assets/Scripts/Skills/EffectManager.cs` –∏ –Ω–∞–π–¥–∏—Ç–µ:
```csharp
private void ApplyEffect(EffectConfig config, CharacterStats casterStats, string targetSocketId)
{
    // ... –∫–æ–¥ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∞ ...

    // –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–∞
    if (config.particleEffectPrefab != null)
    {
        effect.visualEffect = Instantiate(config.particleEffectPrefab, transform);
        effect.visualEffect.transform.localPosition = Vector3.up * 1.5f;
    }

    // üåê –°–ò–ù–•–†–û–ù–ò–ó–ê–¶–ò–Ø –° –°–ï–†–í–ï–†–û–ú
    if (config.syncWithServer && socketIO != null && socketIO.IsConnected)
    {
        socketIO.SendEffectApplied(config, targetSocketId);
    }
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –í—Å–µ –∏–≥—Ä–æ–∫–∏ –≤–∏–¥—è—Ç –∞—É—Ä—ã –¥—Ä—É–≥ –¥—Ä—É–≥–∞! ‚úÖ

---

## üé≠ –í–ò–ó–£–ê–õ–ò–ó–ê–¶–ò–Ø STUN/ROOT –≠–§–§–ï–ö–¢–û–í

### –£–ñ–ï –†–ê–ë–û–¢–ê–ï–¢! ‚úÖ

Stun –∏ Root —ç—Ñ—Ñ–µ–∫—Ç—ã **—É–∂–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã**:

**–ü—Ä–∏–º–µ—Ä—ã:**
- ‚ö° Stunning Shot (Archer) - —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏–µ –≤—Å–ø—ã—à–∫–∏
- üåø Entangling Shot (Archer) - –∑–µ–ª—ë–Ω—ã–µ –ª–∏—Å—Ç—å—è (Root)
- üî® Hammer Throw (Warrior) - –æ–≥–ª—É—à–µ–Ω–∏–µ —Å –æ–≥–Ω–µ–Ω–Ω—ã–º –≤–∑—Ä—ã–≤–æ–º

**–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
1. –°–∫–∏–ª–ª –ø—Ä–∏–º–µ–Ω—è–µ—Ç Stun/Root —á–µ—Ä–µ–∑ `EffectConfig`
2. EffectManager —Å–æ–∑–¥–∞—ë—Ç –≤–∏–∑—É–∞–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç –ª–æ–∫–∞–ª—å–Ω–æ
3. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç `effect_applied` –Ω–∞ —Å–µ—Ä–≤–µ—Ä
4. –°–µ—Ä–≤–µ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤—Å–µ–º –∏–≥—Ä–æ–∫–∞–º
5. –î—Ä—É–≥–∏–µ –∏–≥—Ä–æ–∫–∏ –≤–∏–¥—è—Ç –≤–∏–∑—É–∞–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç (—á–∞—Å—Ç–∏—Ü—ã)
6. –¶–µ–ª—å –ø–µ—Ä–µ—Å—Ç–∞—ë—Ç –¥–≤–∏–≥–∞—Ç—å—Å—è (–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —á–µ—Ä–µ–∑ `CanMove()`)

**–ù–∏–∫–∞–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è!** ‚úÖ

---

## üí• –°–ò–ù–•–†–û–ù–ò–ó–ê–¶–ò–Ø –í–ó–†–´–í–û–í –ò HIT –≠–§–§–ï–ö–¢–û–í

### –ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é –≤ —Å–Ω–∞—Ä—è–¥–∞—Ö

#### –í Projectile.cs (–∏ ArrowProjectile.cs, CelestialProjectile.cs)

**–í –º–µ—Ç–æ–¥–µ OnTriggerEnter/HitTarget:**

```csharp
private void HitTarget()
{
    // ... –∫–æ–¥ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è target ...

    // –°–æ–∑–¥–∞—Ç—å –≤–∏–∑—É–∞–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç –ø–æ–ø–∞–¥–∞–Ω–∏—è
    if (hitEffect != null)
    {
        GameObject effect = Instantiate(hitEffect, transform.position, Quaternion.identity);

        // üåê –°–ò–ù–•–†–û–ù–ò–ó–ê–¶–ò–Ø –≤–∑—Ä—ã–≤–∞
        SocketIOManager socketIO = SocketIOManager.Instance;
        if (socketIO != null && socketIO.IsConnected)
        {
            socketIO.SendVisualEffect(
                "hit",
                hitEffect.name,
                transform.position,
                Quaternion.identity,
                "",
                2f,
                null
            );
        }

        Destroy(effect, 2f);
    }

    // ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥ —É—Ä–æ–Ω–∞ ...
}
```

---

## üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### –ß–µ–∫-–ª–∏—Å—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏

#### –°–Ω–∞—Ä—è–¥—ã:
- [ ] Fireball (Mage) - –≤–∏–¥–µ–Ω —É –æ–±–æ–∏—Ö –∏–≥—Ä–æ–∫–æ–≤
- [ ] Arrow (Archer) - –≤–∏–¥–µ–Ω —Å Trail Renderer
- [ ] Soul Drain (Rogue) - —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π —á–µ—Ä–µ–ø –≤–∏–¥–µ–Ω –æ–±–æ–∏–º
- [ ] Rain of Arrows - –≤—Å–µ 3 —Å—Ç—Ä–µ–ª—ã –≤–∏–¥–Ω—ã

#### –ê–Ω–∏–º–∞—Ü–∏–∏:
- [ ] Fireball cast - —Ä—É–∫–∏ –ø–æ–¥–Ω–∏–º–∞—é—Ç—Å—è —É –æ–±–æ–∏—Ö
- [ ] Meteor cast - –¥–ª–∏–Ω–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è (2 —Å–µ–∫) –≤–∏–¥–Ω–∞
- [ ] Teleport - –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–µ –∏ –ø–æ—è–≤–ª–µ–Ω–∏–µ –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω—ã

#### –≠—Ñ—Ñ–µ–∫—Ç—ã –∫–∞—Å—Ç–∞:
- [ ] Fireball spawn - –æ–≥–Ω–µ–Ω–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç –≤ —Ä—É–∫–µ
- [ ] Teleport - –¥—ã–º–æ–∫ –ø—Ä–∏ —Ç–µ–ª–µ–ø–æ—Ä—Ç–µ
- [ ] Ice Nova - —Å–∏–Ω–∏–µ —á–∞—Å—Ç–∏—Ü—ã –≤–æ–∫—Ä—É–≥ –º–∞–≥–∞

#### –ê—É—Ä —ç—Ñ—Ñ–µ–∫—Ç—ã (–±–∞—Ñ—Ñ—ã):
- [ ] Battle Rage - –æ–≥–Ω–µ–Ω–Ω–∞—è –∞—É—Ä–∞ –Ω–∞ –≤–æ–∏–Ω–µ
- [ ] Eagle Eye - –∑–æ–ª–æ—Ç–∞—è –∞—É—Ä–∞ –Ω–∞ –ª—É—á–Ω–∏–∫–µ
- [ ] Defensive Stance - –∑–µ–ª—ë–Ω—ã–π —â–∏—Ç
- [ ] Divine Protection - –∑–æ–ª–æ—Ç–æ–π —â–∏—Ç (–Ω–∞ –í–°–ï–• —Å–æ—é–∑–Ω–∏–∫–æ–≤!)

#### –î–µ–±–∞—Ñ—Ñ—ã:
- [ ] Stunning Shot - –∂—ë–ª—Ç—ã–µ –º–æ–ª–Ω–∏–∏ –Ω–∞ —Ü–µ–ª–∏
- [ ] Root (Entangling) - –∑–µ–ª—ë–Ω—ã–µ –ª–∏—Å—Ç—å—è
- [ ] Burn - –æ–≥–Ω–µ–Ω–Ω—ã–µ —á–∞—Å—Ç–∏—Ü—ã
- [ ] Poison - —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–µ –ø—É–∑—ã—Ä–∏

#### –í–∑—Ä—ã–≤—ã –∏ hit —ç—Ñ—Ñ–µ–∫—Ç—ã:
- [ ] Fireball explosion - –æ–≥–Ω–µ–Ω–Ω—ã–π –≤–∑—Ä—ã–≤ –ø—Ä–∏ –ø–æ–ø–∞–¥–∞–Ω–∏–∏
- [ ] Meteor impact - –±–æ–ª—å—à–æ–π –≤–∑—Ä—ã–≤ —Å –æ–≥–Ω—ë–º
- [ ] Arrow hit - –±–µ–ª–∞—è –≤—Å–ø—ã—à–∫–∞
- [ ] Lightning Storm - —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏–µ –≤—Å–ø—ã—à–∫–∏ (multiple)

---

## üìä –ò–¢–û–ì–û–í–ê–Ø –¢–ê–ë–õ–ò–¶–ê

| –≠—Ñ—Ñ–µ–∫—Ç | –°—Ç–∞—Ç—É—Å | –§–∞–π–ª | –ú–µ—Ç–æ–¥ |
|--------|--------|------|-------|
| **–°–Ω–∞—Ä—è–¥—ã** | ‚ö†Ô∏è –ù–£–ñ–ù–û –î–û–ë–ê–í–ò–¢–¨ | SkillExecutor.cs | LaunchProjectile() + NetworkSyncManager |
| **–ê–Ω–∏–º–∞—Ü–∏–∏ –∫–∞—Å—Ç–∞** | ‚ö†Ô∏è –ù–£–ñ–ù–û –î–û–ë–ê–í–ò–¢–¨ | SkillExecutor.cs | ExecuteSkill() + SkillCastAnimationSync |
| **–ê—É—Ä —ç—Ñ—Ñ–µ–∫—Ç—ã** | ‚úÖ –†–ê–ë–û–¢–ê–ï–¢ | EffectManager.cs | ApplyEffect() |
| **Stun/Root –≤–∏–∑—É–∞–ª** | ‚úÖ –†–ê–ë–û–¢–ê–ï–¢ | EffectManager.cs | ApplyEffect() |
| **–≠—Ñ—Ñ–µ–∫—Ç—ã –∫–∞—Å—Ç–∞** | ‚ö†Ô∏è –ß–ê–°–¢–ò–ß–ù–û | SkillExecutor.cs | SpawnEffect() (–Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å sync) |
| **Hit —ç—Ñ—Ñ–µ–∫—Ç—ã** | ‚ö†Ô∏è –ù–£–ñ–ù–û –î–û–ë–ê–í–ò–¢–¨ | Projectile.cs | HitTarget() |
| **–í–∑—Ä—ã–≤—ã (AOE)** | ‚ö†Ô∏è –ß–ê–°–¢–ò–ß–ù–û | SkillExecutor.cs | ExecuteAOEDamage() |

---

## üöÄ –ü–û–†–Ø–î–û–ö –ü–†–ò–ú–ï–ù–ï–ù–ò–Ø

1. **–ö–†–ò–¢–ò–ß–ù–û:** –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å–Ω–∞—Ä—è–¥–æ–≤ (ProjectileSyncHelper)
2. **–í–ê–ñ–ù–û:** –ê–Ω–∏–º–∞—Ü–∏–∏ –∫–∞—Å—Ç–∞ (SkillCastAnimationSync)
3. **–û–ü–¶–ò–û–ù–ê–õ–¨–ù–û:** Hit —ç—Ñ—Ñ–µ–∫—Ç—ã –≤ —Å–Ω–∞—Ä—è–¥–∞—Ö
4. **–û–ü–¶–ò–û–ù–ê–õ–¨–ù–û:** –≠—Ñ—Ñ–µ–∫—Ç—ã –∫–∞—Å—Ç–∞ (SpawnEffect —Å sync)

–ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –ø—É–Ω–∫—Ç–æ–≤ 1 –∏ 2, **90% –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ!**

---

## üìù –§–ò–ù–ê–õ–¨–ù–´–ï –ó–ê–ú–ï–¢–ö–ò

- –ê—É—Ä —ç—Ñ—Ñ–µ–∫—Ç—ã (–±–∞—Ñ—Ñ—ã/–¥–µ–±–∞—Ñ—Ñ—ã) —É–∂–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã —á–µ—Ä–µ–∑ EffectManager ‚úÖ
- Stun/Root –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç ‚úÖ
- –ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ —Å–Ω–∞—Ä—è–¥—ã –∏ –∞–Ω–∏–º–∞—Ü–∏–∏ –∫–∞—Å—Ç–∞
- Hit —ç—Ñ—Ñ–µ–∫—Ç—ã –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–∑–∂–µ –¥–ª—è –ø–æ–ª–Ω–æ—Ç—ã

**–°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –≤—ã—à–µ –∏ –≤—Å–µ –≤–∏–∑—É–∞–ª—å–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã –±—É–¥—É—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã!** üéâ
