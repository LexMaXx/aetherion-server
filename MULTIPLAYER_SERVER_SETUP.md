# üöÄ –ü–û–õ–ù–ê–Ø –ù–ê–°–¢–†–û–ô–ö–ê –ú–£–õ–¨–¢–ò–ü–õ–ï–ï–† –°–ï–†–í–ï–†–ê

## üìã –ß–¢–û –ù–£–ñ–ù–û –°–î–ï–õ–ê–¢–¨:

1. **–î–æ–±–∞–≤–∏—Ç—å Socket.IO** –≤ server.js
2. **–°–æ–∑–¥–∞—Ç—å multiplayer.js** - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏–π –∏–≥—Ä–æ–∫–æ–≤
3. **–û–±–Ω–æ–≤–∏—Ç—å Unity** - –æ—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Å–µ—Ä–≤–µ—Ä
4. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å** —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é

---

## –®–ê–ì 1: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Socket.IO –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

### –ù–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ –∏–ª–∏ –≤ Render.com:

```bash
cd C:\Users\Asus\Aetherion
npm install socket.io
```

–ò–ª–∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ `package.json`:
```json
{
  "dependencies": {
    "socket.io": "^4.6.0"
  }
}
```

–ó–∞—Ç–µ–º:
```bash
npm install
```

---

## –®–ê–ì 2: –û–±–Ω–æ–≤–∏—Ç—å server.js

–Ø —Å–æ–∑–¥–∞–º —Ñ–∞–π–ª `server_with_socketio.js` —Å –ø–æ–ª–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π Socket.IO.

---

## –®–ê–ì 3: –°–æ–∑–¥–∞—Ç—å multiplayer.js

–≠—Ç–æ —Ñ–∞–π–ª –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –≤—Å–µ –º—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä —Å–æ–±—ã—Ç–∏—è:
- player_update (–ø–æ–∑–∏—Ü–∏—è, –∞–Ω–∏–º–∞—Ü–∏—è)
- player_attack
- player_damage
- enemy_killed
- –∏ —Ç.–¥.

---

## –®–ê–ì 4: –û–±–Ω–æ–≤–∏—Ç—å Unity

SimpleWebSocketClient —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç polling (REST API).

–ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å **—Ä–µ–∞–ª—å–Ω—ã–π WebSocket** –¥–ª—è real-time —Å–æ–±—ã—Ç–∏–π.

---

## üì¶ –°–¢–†–£–ö–¢–£–†–ê –§–ê–ô–õ–û–í:

```
Aetherion/
‚îú‚îÄ‚îÄ server.js (–æ–±–Ω–æ–≤–∏—Ç—å)
‚îú‚îÄ‚îÄ multiplayer.js (—Å–æ–∑–¥–∞—Ç—å)
‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îú‚îÄ‚îÄ auth.js
‚îÇ   ‚îú‚îÄ‚îÄ character.js
‚îÇ   ‚îî‚îÄ‚îÄ room.js
‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îú‚îÄ‚îÄ User.js
‚îÇ   ‚îú‚îÄ‚îÄ Character.js
‚îÇ   ‚îî‚îÄ‚îÄ Room.js
‚îî‚îÄ‚îÄ config/
    ‚îî‚îÄ‚îÄ db.js
```

---

## üéØ –°–û–ë–´–¢–ò–Ø –ö–û–¢–û–†–´–ï –ù–£–ñ–ù–û –°–ò–ù–•–†–û–ù–ò–ó–ò–†–û–í–ê–¢–¨:

### 1. –ü–æ–∑–∏—Ü–∏—è –∏ –¥–≤–∏–∂–µ–Ω–∏–µ
```javascript
player_update: {
  socketId,
  position: { x, y, z },
  rotation: { x, y, z },
  velocity: { x, y, z },
  isGrounded: boolean
}
```

### 2. –ê–Ω–∏–º–∞—Ü–∏–∏
```javascript
player_animation: {
  socketId,
  animation: "Idle|Walk|Run|Attack|Jump|Dead",
  speed: float
}
```

### 3. –ê—Ç–∞–∫–∏
```javascript
player_attack: {
  socketId,
  attackType: "melee|ranged|skill",
  targetId: string,
  damage: int,
  position: { x, y, z },
  direction: { x, y, z }
}
```

### 4. –ü–æ–ª—É—á–µ–Ω–∏–µ —É—Ä–æ–Ω–∞
```javascript
player_damaged: {
  socketId,
  damage: int,
  attackerId: string,
  currentHealth: int,
  maxHealth: int
}
```

### 5. –°–º–µ—Ä—Ç—å
```javascript
player_died: {
  socketId,
  killerId: string
}
```

### 6. –†–µ—Å–ø–∞–≤–Ω
```javascript
player_respawned: {
  socketId,
  position: { x, y, z },
  health: int
}
```

### 7. –í—Ä–∞–≥–∏ (—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è NPC)
```javascript
enemy_killed: {
  enemyId: string,
  killerId: string,
  position: { x, y, z }
}

enemy_damaged: {
  enemyId: string,
  damage: int,
  attackerId: string,
  currentHealth: int
}

enemy_respawned: {
  enemyId: string,
  enemyType: string,
  position: { x, y, z },
  health: int
}
```

---

## üî• –ü–†–ï–ò–ú–£–©–ï–°–¢–í–ê SOCKET.IO:

### –î–æ (REST API polling):
- ‚ùå –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É (1 Hz)
- ‚ùå –í—ã—Å–æ–∫–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞
- ‚ùå –ú–Ω–æ–≥–æ HTTP –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚ùå –ù–µ—Ç real-time —Å–æ–±—ã—Ç–∏–π

### –ü–æ—Å–ª–µ (Socket.IO):
- ‚úÖ Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (60 Hz –≤–æ–∑–º–æ–∂–Ω–æ)
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞
- ‚úÖ –û–¥–∏–Ω WebSocket connection
- ‚úÖ –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è (–∞—Ç–∞–∫–∏, —É—Ä–æ–Ω, —Å–º–µ—Ä—Ç—å)

---

## üìù –ü–õ–ê–ù –î–ï–ô–°–¢–í–ò–ô:

1. ‚úÖ –Ø —Å–æ–∑–¥–∞–º –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ñ–∞–π–ª—ã
2. ‚è≥ –í—ã —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Socket.IO –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
3. ‚è≥ –í—ã –∑–∞–º–µ–Ω–∏—Ç–µ server.js
4. ‚è≥ –í—ã –¥–µ–ø–ª–æ–∏—Ç–µ –Ω–∞ Render.com
5. ‚è≥ –Ø –æ–±–Ω–æ–≤–ª—é Unity –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Socket.IO
6. ‚è≥ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ!

---

–ì–æ—Ç–æ–≤? –Ø —Å–æ–∑–¥–∞–º –≤—Å–µ —Ñ–∞–π–ª—ã! üöÄ
