# ‚úÖ Damage Numbers System - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞!

## üìä –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:

### 1. –°–æ–∑–¥–∞–Ω—ã —Ñ–∞–π–ª—ã —Å–∏—Å—Ç–µ–º—ã:

#### DamageNumber.cs (Assets/Scripts/UI/)
–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –æ–¥–∏–Ω–æ—á–Ω–æ–π –≤—Å–ø–ª—ã–≤–∞—é—â–µ–π —Ü–∏—Ñ—Ä—ã —É—Ä–æ–Ω–∞:
```csharp
- –î–≤–∏–∂–µ–Ω–∏–µ –≤–≤–µ—Ä—Ö (moveSpeed = 2f)
- –ü–ª–∞–≤–Ω–æ–µ –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–µ (lifetime = 1.5s)
- –†–∞–∑–Ω—ã–µ —Å—Ç–∏–ª–∏:
  * –û–±—ã—á–Ω—ã–π —É—Ä–æ–Ω: –±–µ–ª—ã–π, —Ä–∞–∑–º–µ—Ä 36
  * –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —É—Ä–æ–Ω: –ñ–Å–õ–¢–´–ô, —Ä–∞–∑–º–µ—Ä 48, –∂–∏—Ä–Ω—ã–π
  * –ò—Å—Ü–µ–ª–µ–Ω–∏–µ: –∑–µ–ª—ë–Ω—ã–π, –∑–Ω–∞–∫ "+"
```

#### DamageNumberManager.cs (Assets/Scripts/UI/)
Singleton –º–µ–Ω–µ–¥–∂–µ—Ä –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è damage numbers:
```csharp
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ World Space Canvas
- –ú–µ—Ç–æ–¥: ShowDamage(worldPosition, damage, isCritical, isHeal)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–≤–æ—Ä–æ—Ç –∫ –∫–∞–º–µ—Ä–µ (–≤—Å–µ–≥–¥–∞ –≤–∏–¥–Ω–æ)
- –°–æ–∑–¥–∞—ë—Ç –¥–µ—Ñ–æ–ª—Ç–Ω—ã–π prefab –µ—Å–ª–∏ –Ω–µ –Ω–∞–∑–Ω–∞—á–µ–Ω
```

---

## üéØ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –±–æ–µ–≤—É—é —Å–∏—Å—Ç–µ–º—É:

### PlayerAttackNew.cs - –û–±–Ω–æ–≤–ª–µ–Ω–æ:

**1. –†–∞—Å—á—ë—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–≥–æ —É—Ä–æ–Ω–∞:**
```csharp
void DealDamage()
{
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —É–¥–∞—Ä
    bool isCritical = false;
    if (Random.Range(0f, 100f) < attackConfig.baseCritChance)
    {
        isCritical = true;
        damage *= attackConfig.critMultiplier;
        Debug.Log("üí•üí• –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô –£–†–û–ù!");
    }

    // –ü–µ—Ä–µ–¥–∞—ë–º isCritical –¥–∞–ª—å—à–µ
    SpawnProjectile(damage, isCritical);
    ApplyDamage(damage, isCritical);
}
```

**2. –ë–ª–∏–∂–Ω–∏–π –±–æ–π - –ø–æ–∫–∞–∑ —É—Ä–æ–Ω–∞:**
```csharp
void ApplyDamage(float damage, bool isCritical = false)
{
    // ... –Ω–∞–Ω–æ—Å–∏–º —É—Ä–æ–Ω ...

    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ü–∏—Ñ—Ä—É —É—Ä–æ–Ω–∞
    if (DamageNumberManager.Instance != null)
    {
        DamageNumberManager.Instance.ShowDamage(
            targetTransform.position,
            damage,
            isCritical
        );
    }
}
```

**3. –î–∞–ª—å–Ω–∏–π –±–æ–π - –ø–µ—Ä–µ–¥–∞—á–∞ isCritical —Å–Ω–∞—Ä—è–¥—É:**
```csharp
void SpawnProjectile(float damage, bool isCritical = false)
{
    // –°–æ–∑–¥–∞—ë–º —Å–Ω–∞—Ä—è–¥
    if (celestialProj != null)
    {
        celestialProj.Initialize(
            targetTransform,
            damage,
            direction,
            gameObject,
            null,
            false,
            isCritical  // ‚Üê –ü–ï–†–ï–î–ê–Å–ú –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô –°–¢–ê–¢–£–°!
        );
    }
}
```

---

## üéÜ –û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ —Å–Ω–∞—Ä—è–¥—ã:

### CelestialProjectile.cs (Mage)

**–î–æ–±–∞–≤–ª–µ–Ω–æ:**
```csharp
private bool isCritical = false;

public void Initialize(..., bool isCrit = false)
{
    isCritical = isCrit;
    // ...
}

private void HitTarget()
{
    // –ü–æ—Å–ª–µ –Ω–∞–Ω–µ—Å–µ–Ω–∏—è —É—Ä–æ–Ω–∞
    if (DamageNumberManager.Instance != null)
    {
        DamageNumberManager.Instance.ShowDamage(
            target.position,
            damage,
            isCritical
        );
    }
}
```

### ArrowProjectile.cs (Archer)

**–¢–æ—á–Ω–æ —Ç–∞–∫–∏–µ –∂–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
```csharp
private bool isCritical = false;
public void Initialize(..., bool isCrit = false)
private void HitTarget() ‚Üí –ø–æ–∫–∞–∑ —É—Ä–æ–Ω–∞
```

---

## üí• –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –∏–≥—Ä–µ:

### –û–±—ã—á–Ω–∞—è –∞—Ç–∞–∫–∞:
1. –ò–≥—Ä–æ–∫ –∞—Ç–∞–∫—É–µ—Ç ‚Üí —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è —É—Ä–æ–Ω
2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—Ä–∏—Ç–∞ (Random.Range < baseCritChance)
3. –ï—Å–ª–∏ –∫—Ä–∏—Ç ‚Üí —É—Ä–æ–Ω √ó critMultiplier
4. **–ë–õ–ò–ñ–ù–ò–ô –ë–û–ô:**
   - ApplyDamage() –Ω–∞–Ω–æ—Å–∏—Ç —É—Ä–æ–Ω
   - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç damage number –Ω–∞–¥ –≤—Ä–∞–≥–æ–º
   - –°–æ–∑–¥–∞—ë—Ç hit effect
5. **–î–ê–õ–¨–ù–ò–ô –ë–û–ô:**
   - –°–æ–∑–¥–∞—ë—Ç—Å—è —Å–Ω–∞—Ä—è–¥ —Å isCritical
   - –°–Ω–∞—Ä—è–¥ –ª–µ—Ç–∏—Ç –∫ —Ü–µ–ª–∏
   - HitTarget() ‚Üí —É—Ä–æ–Ω + damage number

### –í–∏–∑—É–∞–ª—å–Ω–æ:

**–û–±—ã—á–Ω—ã–π —É—Ä–æ–Ω:**
```
    45
   (–±–µ–ª—ã–π)
```

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —É—Ä–æ–Ω:**
```
   112!
 (–ñ–Å–õ–¢–´–ô, –ë–û–õ–¨–®–ï)
```

**–ò—Å—Ü–µ–ª–µ–Ω–∏–µ:**
```
   +50
 (–∑–µ–ª—ë–Ω—ã–π)
```

---

## üìã –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫—Ä–∏—Ç–∞–º –≤—Å–µ—Ö –∫–ª–∞—Å—Å–æ–≤:

| –ö–ª–∞—Å—Å | –ö—Ä–∏—Ç —à–∞–Ω—Å | –ö—Ä–∏—Ç –º–Ω–æ–∂–∏—Ç–µ–ª—å | –ü—Ä–∏–º–µ—Ä (—É—Ä–æ–Ω 50) |
|-------|-----------|----------------|------------------|
| **Archer** üèπ | **15%** üéØ | **2.5** üí™ | 50 ‚Üí **125!** |
| Warrior ‚öîÔ∏è | 10% | 2.5 | 50 ‚Üí 125! |
| Rogue üíÄ | 8% | 2.2 | 50 ‚Üí 110! |
| Paladin üõ°Ô∏è | 6% | 2.0 | 50 ‚Üí 100! |
| Mage üî• | 5% | 2.0 | 50 ‚Üí 100! |

**–õ—É—á–Ω–∏–∫ - –∞–±—Å–æ–ª—é—Ç–Ω—ã–π —á–µ–º–ø–∏–æ–Ω –ø–æ –∫—Ä–∏—Ç–∞–º!** üéØ

---

## üéÆ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

### –í Unity:
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å—Ü–µ–Ω—É —Å TestPlayer
2. –ê—Ç–∞–∫—É–π—Ç–µ DummyEnemy
3. **–û–∂–∏–¥–∞–µ–º–æ–µ:**
   - ‚úÖ –¶–∏—Ñ—Ä–∞ —É—Ä–æ–Ω–∞ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –Ω–∞–¥ –≤—Ä–∞–≥–æ–º
   - ‚úÖ –î–≤–∏–∂–µ—Ç—Å—è –≤–≤–µ—Ä—Ö
   - ‚úÖ –ò—Å—á–µ–∑–∞–µ—Ç —á–µ—Ä–µ–∑ 1.5 —Å–µ–∫
   - ‚úÖ –ò–Ω–æ–≥–¥–∞ (–ø–æ —à–∞–Ω—Å—É –∫—Ä–∏—Ç–∞) –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ñ–Å–õ–¢–ê–Ø –∏ –ë–û–õ–¨–®–ê–Ø —Ü–∏—Ñ—Ä–∞
   - ‚úÖ –í—Å–µ–≥–¥–∞ –ø–æ–≤—ë—Ä–Ω—É—Ç–∞ –∫ –∫–∞–º–µ—Ä–µ

### –õ–æ–≥–∏:
```
[PlayerAttackNew] üí• –£—Ä–æ–Ω —Ä–∞—Å—Å—á–∏—Ç–∞–Ω: 45.0
[DamageNumberManager] –ü–æ–∫–∞–∑–∞–Ω —É—Ä–æ–Ω: 45 (Crit: False, Heal: False)

// –ò–ª–∏ –ø—Ä–∏ –∫—Ä–∏—Ç–µ:
[PlayerAttackNew] üí•üí• –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô –£–†–û–ù! 112.5 (√ó2.5)
[DamageNumberManager] –ü–æ–∫–∞–∑–∞–Ω —É—Ä–æ–Ω: 112.5 (Crit: True, Heal: False)
```

---

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞:

### DamageNumber Inspector:
```
Lifetime: 1.5 —Å–µ–∫ (–≤—Ä–µ–º—è –∂–∏–∑–Ω–∏)
Move Speed: 2.0 (—Å–∫–æ—Ä–æ—Å—Ç—å –¥–≤–∏–∂–µ–Ω–∏—è –≤–≤–µ—Ä—Ö)
Fade Start: 0.5 —Å–µ–∫ (–∫–æ–≥–¥–∞ –Ω–∞—á–∏–Ω–∞—Ç—å –∑–∞—Ç—É—Ö–∞–Ω–∏–µ)
```

### DamageNumberManager:
```
Damage Number Prefab: (auto-—Å–æ–∑–¥–∞—ë—Ç—Å—è –µ—Å–ª–∏ –Ω–µ –Ω–∞–∑–Ω–∞—á–µ–Ω)
Canvas: World Space (–∞–≤—Ç–æ-—Å–æ–∑–¥–∞—ë—Ç—Å—è)
Main Camera: Camera.main (–∞–≤—Ç–æ-–Ω–∞—Ö–æ–¥–∏—Ç—Å—è)
```

---

## ‚úÖ –°—Ç–∞—Ç—É—Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:

### –ü–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–æ:
- ‚úÖ DamageNumber.cs —Å–æ–∑–¥–∞–Ω
- ‚úÖ DamageNumberManager.cs —Å–æ–∑–¥–∞–Ω
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ PlayerAttackNew (–±–ª–∏–∂–Ω–∏–π –±–æ–π)
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ CelestialProjectile (Mage)
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ ArrowProjectile (Archer)
- ‚úÖ –†–∞—Å—á—ë—Ç –∫—Ä–∏—Ç–æ–≤ –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º —Å–Ω–∞—Ä—è–¥–∞
- ‚úÖ –ü–µ—Ä–µ–¥–∞—á–∞ isCritical –≤ —Å–Ω–∞—Ä—è–¥—ã
- ‚úÖ –†–∞–∑–Ω—ã–µ –≤–∏–∑—É–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ (–æ–±—ã—á–Ω—ã–π/–∫—Ä–∏—Ç/—Ö–∏–ª)

### –ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é:
- ‚úÖ –í—Å–µ 5 –∫–ª–∞—Å—Å–æ–≤ –ø–æ–∫–∞–∂—É—Ç damage numbers
- ‚úÖ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —É–¥–∞—Ä—ã –±—É–¥—É—Ç –≤—ã–¥–µ–ª—è—Ç—å—Å—è
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –±–ª–∏–∂–Ω–µ–≥–æ –∏ –¥–∞–ª—å–Ω–µ–≥–æ –±–æ—è

---

## üé® –°–ª–µ–¥—É—é—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):

### 1. Weapon Glow (—Å–≤–µ—á–µ–Ω–∏–µ –æ—Ä—É–∂–∏—è):
```
- –≠—Ñ—Ñ–µ–∫—Ç –Ω–∞ –æ—Ä—É–∂–∏–∏ –≤–æ –≤—Ä–µ–º—è –∞—Ç–∞–∫–∏
- –†–∞–∑–Ω—ã–µ —Ü–≤–µ—Ç–∞ –ø–æ –∫–ª–∞—Å—Å–∞–º
- –ê–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ attackHitTiming
```

### 2. Screen Shake (—Ç—Ä—è—Å–∫–∞ –∫–∞–º–µ—Ä—ã):
```
- –ü—Ä–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–º —É–¥–∞—Ä–µ
- –ü—Ä–∏ —Å–∏–ª—å–Ω—ã—Ö –∞—Ç–∞–∫–∞—Ö (Warrior)
```

### 3. Combo Numbers:
```
- –°—á—ë—Ç—á–∏–∫ –∫–æ–º–±–æ-–∞—Ç–∞–∫
- –ë–æ–Ω—É—Å —É—Ä–æ–Ω–∞ –∑–∞ –∫–æ–º–±–æ
```

### 4. Damage Types:
```
- –§–∏–∑–∏—á–µ—Å–∫–∏–π —É—Ä–æ–Ω (–∫—Ä–∞—Å–Ω—ã–π)
- –ú–∞–≥–∏—á–µ—Å–∫–∏–π —É—Ä–æ–Ω (—Å–∏–Ω–∏–π)
- –£—Ä–æ–Ω –ø—Ä–∏—Ä–æ–¥—ã (–∑–µ–ª—ë–Ω—ã–π)
```

---

## üìÅ –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:

### –ù–æ–≤—ã–µ:
```
Assets/Scripts/UI/DamageNumber.cs ‚úÖ
Assets/Scripts/UI/DamageNumberManager.cs ‚úÖ
```

### –û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ:
```
Assets/Scripts/Player/PlayerAttackNew.cs
  ‚Ü≥ DealDamage() - –¥–æ–±–∞–≤–ª–µ–Ω —Ä–∞—Å—á—ë—Ç –∫—Ä–∏—Ç–∞
  ‚Ü≥ ApplyDamage(damage, isCritical) - –¥–æ–±–∞–≤–ª–µ–Ω –ø–æ–∫–∞–∑ —É—Ä–æ–Ω–∞
  ‚Ü≥ SpawnProjectile(damage, isCritical) - –¥–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä

Assets/Scripts/Player/CelestialProjectile.cs
  ‚Ü≥ isCritical –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è
  ‚Ü≥ Initialize(..., isCrit) - –Ω–æ–≤—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä
  ‚Ü≥ HitTarget() - –ø–æ–∫–∞–∑ damage number

Assets/Scripts/Player/ArrowProjectile.cs
  ‚Ü≥ isCritical –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è
  ‚Ü≥ Initialize(..., isCrit) - –Ω–æ–≤—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä
  ‚Ü≥ HitTarget() - –ø–æ–∫–∞–∑ damage number
```

---

## üéâ –ò–¢–û–ì–û:

**DAMAGE NUMBERS –°–ò–°–¢–ï–ú–ê –ü–û–õ–ù–û–°–¢–¨–Æ –ò–ù–¢–ï–ì–†–ò–†–û–í–ê–ù–ê!**

‚úÖ –í—Å–ø–ª—ã–≤–∞—é—â–∏–µ —Ü–∏—Ñ—Ä—ã —É—Ä–æ–Ω–∞ —Ä–∞–±–æ—Ç–∞—é—Ç
‚úÖ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —É–¥–∞—Ä—ã –≤—ã–¥–µ–ª—è—é—Ç—Å—è
‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö 5 –∫–ª–∞—Å—Å–æ–≤
‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –±–ª–∏–∂–Ω–µ–≥–æ –∏ –¥–∞–ª—å–Ω–µ–≥–æ –±–æ—è
‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è –∫ –∫–∞–º–µ—Ä–µ
‚úÖ –ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é!

**–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã:** ~1 —á–∞—Å
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ feedback —É—Ä–æ–Ω–∞ –∫–∞–∫ –≤ MMO üíØ

---

**–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å!** –ê—Ç–∞–∫—É–π—Ç–µ –≤—Ä–∞–≥–æ–≤ –∏ —Å–º–æ—Ç—Ä–∏—Ç–µ –∫—Ä–∞—Å–∏–≤—ã–µ —Ü–∏—Ñ—Ä—ã —É—Ä–æ–Ω–∞! üéÆ
