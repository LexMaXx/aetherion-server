# üéØ –ì–ê–ô–î –ü–û –°–ò–ù–•–†–û–ù–ò–ó–ê–¶–ò–ò –°–ö–ò–õ–õ–û–í –í –ú–£–õ–¨–¢–ò–ü–õ–ï–ï–†–ï

## üìã **–ü–†–û–ë–õ–ï–ú–ê:**
–°–∫–∏–ª–ª—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä Eagle Eye) —Ä–∞–±–æ—Ç–∞—é—Ç **–õ–û–ö–ê–õ–¨–ù–û**, –Ω–æ **–ù–ï –í–ò–î–ù–´** –¥—Ä—É–≥–∏–º –∏–≥—Ä–æ–∫–∞–º:
- ‚ùå –ê–Ω–∏–º–∞—Ü–∏—è –∫–∞—Å—Ç–∞ –Ω–µ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—Ç—Å—è
- ‚ùå –í–∏–∑—É–∞–ª—å–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã –Ω–µ —Å–æ–∑–¥–∞—é—Ç—Å—è
- ‚ùå –ê—É—Ä—ã (buffs) –Ω–µ –≤–∏–¥–Ω—ã

---

## ‚úÖ **–†–ï–®–ï–ù–ò–ï –í 3 –®–ê–ì–ê:**

### **–®–ê–ì 1: –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ SendSkillUsed –≤ NetworkCombatSync.cs**

–û—Ç–∫—Ä–æ–π—Ç–µ `Assets/Scripts/Network/NetworkCombatSync.cs` –∏ –¥–æ–±–∞–≤—å—Ç–µ —ç—Ç–æ—Ç –º–µ—Ç–æ–¥:

```csharp
/// <summary>
/// –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∫–∏–ª–ª–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
/// –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –∏–∑ PlayerAttack –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ UseSkill()
/// </summary>
public void SendSkillUsed(int skillId, string animationTrigger, Vector3 targetPosition, float castTime)
{
    if (!enableSync || !isMultiplayer || SocketIOManager.Instance == null)
        return;

    if (!SocketIOManager.Instance.IsConnected)
    {
        Debug.LogWarning("[NetworkCombatSync] –ù–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É, —Å–∫–∏–ª–ª –Ω–µ –±—É–¥–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω");
        return;
    }

    // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ —Å–µ—Ä–≤–µ—Ä
    SocketIOManager.Instance.SendSkillUsed(skillId, animationTrigger, targetPosition, castTime);

    Debug.Log($"[NetworkCombatSync] üì° –°–∫–∏–ª–ª ID:{skillId} ({animationTrigger}) –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä");
}
```

---

### **–®–ê–ì 2: –î–æ–±–∞–≤–∏—Ç—å –≤—ã–∑–æ–≤ SendSkillUsed –≤ PlayerAttack.cs**

–û—Ç–∫—Ä–æ–π—Ç–µ `Assets/Scripts/Player/PlayerAttack.cs`, –Ω–∞–π–¥–∏—Ç–µ –º–µ—Ç–æ–¥ `UseSkillDirectly()` (—Å—Ç—Ä–æ–∫–∞ ~1120) –∏ **–ó–ê–ú–ï–ù–ò–¢–ï** –±–ª–æ–∫:

```csharp
if (success)
{
    Debug.Log($"[PlayerAttack] ‚ö° –°–∫–∏–ª–ª {skill.skillName} –£–°–ü–ï–®–ù–û –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω!");
}
```

**–ù–ê:**

```csharp
if (success)
{
    Debug.Log($"[PlayerAttack] ‚ö° –°–∫–∏–ª–ª {skill.skillName} –£–°–ü–ï–®–ù–û –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω!");

    // ‚úÖ –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï: –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ —Å–µ—Ä–≤–µ—Ä –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
    NetworkCombatSync networkSync = GetComponent<NetworkCombatSync>();
    if (networkSync != null && networkSync.enabled)
    {
        Vector3 targetPos = target != null ? target.position : transform.position + transform.forward * 10f;
        networkSync.SendSkillUsed(skill.skillId, skill.animationTrigger, targetPos, skill.castTime);
        Debug.Log($"[PlayerAttack] üì° –°–∫–∏–ª–ª {skill.skillName} (ID:{skill.skillId}) –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä");
    }
}
```

---

### **–®–ê–ì 3: –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ SendSkillUsed –≤ SocketIOManager.cs**

–û—Ç–∫—Ä–æ–π—Ç–µ `Assets/Scripts/Network/SocketIOManager.cs` –∏ –¥–æ–±–∞–≤—å—Ç–µ —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ (–ø–æ—Å–ª–µ `SendProjectileSpawned`):

```csharp
/// <summary>
/// –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∫–∏–ª–ª–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
/// </summary>
public void SendSkillUsed(int skillId, string animationTrigger, Vector3 targetPosition, float castTime)
{
    if (!IsConnected)
    {
        DebugLog("‚ö†Ô∏è SendSkillUsed: –ù–µ –ø–æ–¥–∫–ª—é—á–µ–Ω—ã –∫ —Å–µ—Ä–≤–µ—Ä—É");
        return;
    }

    var data = new
    {
        skillId = skillId,
        animationTrigger = animationTrigger,
        targetPosition = new { x = targetPosition.x, y = targetPosition.y, z = targetPosition.z },
        castTime = castTime,
        timestamp = GetTimestamp()
    };

    string json = JsonConvert.SerializeObject(data);
    Emit("player_used_skill", json);

    DebugLog($"‚ö° –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–∫–∏–ª–ª–∞: ID={skillId}, trigger={animationTrigger}, castTime={castTime}—Å");
}
```

---

## üé¨ **–ö–ê–ö –≠–¢–û –†–ê–ë–û–¢–ê–ï–¢:**

### **–õ–æ–∫–∞–ª—å–Ω—ã–π –∏–≥—Ä–æ–∫ (–ò–≥—Ä–æ–∫ A):**
1. –ù–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É —Å–∫–∏–ª–ª–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä `4` = Eagle Eye)
2. `PlayerAttack.UseSkillDirectly()` ‚Üí `SkillManager.UseSkill()` ‚Üí `SkillExecutor.UseSkill()`
3. **–õ–û–ö–ê–õ–¨–ù–û:**
   - –¢—Ä–∞—Ç–∏—Ç –º–∞–Ω—É ‚úÖ
   - –ü—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—Ç –∞–Ω–∏–º–∞—Ü–∏—é ‚úÖ
   - –°–æ–∑–¥–∞—ë—Ç –≤–∏–∑—É–∞–ª—å–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã ‚úÖ
   - –ü—Ä–∏–º–µ–Ω—è–µ—Ç buff/debuff ‚úÖ
4. **–û–¢–ü–†–ê–í–ö–ê –ù–ê –°–ï–†–í–ï–†:**
   - `PlayerAttack` ‚Üí `NetworkCombatSync.SendSkillUsed()` ‚Üí `SocketIOManager.SendSkillUsed()`
   - –°–µ—Ä–≤–µ—Ä –ø–æ–ª—É—á–∞–µ—Ç `player_used_skill` event

### **–°–µ—Ä–≤–µ—Ä (Render.com):**
1. –ü–æ–ª—É—á–∞–µ—Ç `player_used_skill` –æ—Ç –ò–≥—Ä–æ–∫–∞ A
2. **–¢—Ä–∞–Ω—Å–ª–∏—Ä—É–µ—Ç** —Å–æ–±—ã—Ç–∏–µ –≤—Å–µ–º –æ—Å—Ç–∞–ª—å–Ω—ã–º –∏–≥—Ä–æ–∫–∞–º –≤ –∫–æ–º–Ω–∞—Ç–µ:
   ```javascript
   socket.to(player.roomId).emit('player_used_skill', {
       socketId: socket.id,
       skillId: data.skillId,
       animationTrigger: data.animationTrigger,
       targetPosition: data.targetPosition,
       castTime: data.castTime
   });
   ```

### **–î—Ä—É–≥–∏–µ –∏–≥—Ä–æ–∫–∏ (–ò–≥—Ä–æ–∫ B, C, D...):**
1. `NetworkSyncManager.OnPlayerSkillUsed()` –ø–æ–ª—É—á–∞–µ—Ç —Å–æ–±—ã—Ç–∏–µ
2. –ù–∞—Ö–æ–¥–∏—Ç `NetworkPlayer` –ø–æ `socketId` (–ò–≥—Ä–æ–∫ A)
3. **–í–ò–ó–£–ê–õ–¨–ù–û –ü–û–ö–ê–ó–´–í–ê–ï–¢:**
   - –ü—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—Ç –∞–Ω–∏–º–∞—Ü–∏—é –∫–∞—Å—Ç–∞ (`animator.SetTrigger("Skill")`) ‚úÖ
   - –°–æ–∑–¥–∞—ë—Ç –≤–∏–∑—É–∞–ª—å–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã (–µ—Å–ª–∏ –µ—Å—Ç—å) ‚úÖ
   - **–ù–ï** –ø—Ä–∏–º–µ–Ω—è–µ—Ç —É—Ä–æ–Ω/—ç—Ñ—Ñ–µ–∫—Ç—ã (–æ–Ω–∏ –ø—Ä–∏–¥—É—Ç —á–µ—Ä–µ–∑ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è `effect_applied`)

---

## üîß **–ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –û–®–ò–ë–ö–ò –ê–ù–ò–ú–ê–¶–ò–ò:**

### **–ü—Ä–æ–±–ª–µ–º–∞:**
```
Parameter 'Skill' does not exist.
UnityEngine.Animator:SetTrigger (string)
```

### **–ü—Ä–∏—á–∏–Ω–∞:**
–£ **Archer** –∞–Ω–∏–º–∞—Ü–∏—è —Ç—Ä–∏–≥–≥–µ—Ä `"Skill"` –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ `ArcherAnimator.controller`.

### **–†–µ—à–µ–Ω–∏–µ:**

**–í–∞—Ä–∏–∞–Ω—Ç 1: –ò–∑–º–µ–Ω–∏—Ç—å animationTrigger –≤ SkillConfig**

–û—Ç–∫—Ä–æ–π—Ç–µ `Assets/Resources/Skills/Archer_EagleEye.asset` –≤ Inspector –∏ –∏–∑–º–µ–Ω–∏—Ç–µ:
```
animationTrigger: "Skill" ‚Üí "Cast" (–∏–ª–∏ "Attack", –∏–ª–∏ –¥—Ä—É–≥–æ–π —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –ø–∞—Ä–∞–º–µ—Ç—Ä)
```

**–í–∞—Ä–∏–∞–Ω—Ç 2: –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä "Skill" –≤ Animator**

1. –û—Ç–∫—Ä–æ–π—Ç–µ `Assets/Animations/Controllers/ArcherAnimator.controller`
2. –í –æ–∫–Ω–µ **Parameters** –¥–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–π Trigger —Å –∏–º–µ–Ω–µ–º `Skill`
3. –°–æ–∑–¥–∞–π—Ç–µ transition: `Any State ‚Üí CastAnimation` —Å —É—Å–ª–æ–≤–∏–µ–º `Skill` (trigger)

---

## üêõ **–ò–°–ü–†–ê–í–õ–ï–ù–ò–ï targetSocketId –í effect_applied:**

### **–ü—Ä–æ–±–ª–µ–º–∞:**
```
[SocketIO] ‚ú® –û—Ç–ø—Ä–∞–≤–∫–∞ —ç—Ñ—Ñ–µ–∫—Ç–∞: IncreasePerception, —Ü–µ–ª—å=, duration=15—Å
```
`—Ü–µ–ª—å=""` - –ø—É—Å—Ç–∞—è! –°–µ—Ä–≤–µ—Ä –Ω–µ –∑–Ω–∞–µ—Ç **–ù–ê –ö–û–ì–û** –ø—Ä–∏–º–µ–Ω–∏—Ç—å —ç—Ñ—Ñ–µ–∫—Ç.

### **–†–µ—à–µ–Ω–∏–µ:**

–û—Ç–∫—Ä–æ–π—Ç–µ `Assets/Scripts/Skills/EffectManager.cs`, –Ω–∞–π–¥–∏—Ç–µ –º–µ—Ç–æ–¥ `SendEffectToServer()` (—Å—Ç—Ä–æ–∫–∞ ~620) –∏ **–ò–°–ü–†–ê–í–¨–¢–ï:**

**–ë–´–õ–û:**
```csharp
private void SendEffectToServer(ActiveEffect effect)
{
    if (NetworkCombatSync networkSync = GetComponent<NetworkCombatSync>())
    {
        networkSync.SendEffectApplied(effect.config, ""); // ‚ùå –ü—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞!
    }
}
```

**–°–¢–ê–õ–û:**
```csharp
private void SendEffectToServer(ActiveEffect effect)
{
    NetworkCombatSync networkSync = GetComponent<NetworkCombatSync>();
    if (networkSync != null)
    {
        // ‚úÖ –û–ø—Ä–µ–¥–µ–ª—è–µ–º targetSocketId: –¥–ª—è self-buffs —ç—Ç–æ –ú–´ –°–ê–ú–ò
        string targetSocketId = GetMySocketId();
        networkSync.SendEffectApplied(effect.config, targetSocketId);

        Log($"üì° –≠—Ñ—Ñ–µ–∫—Ç {effect.config.effectType} –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä (target={targetSocketId})");
    }
}

/// <summary>
/// –ü–æ–ª—É—á–∏—Ç—å –º–æ–π socketId –∏–∑ SocketIOManager
/// </summary>
private string GetMySocketId()
{
    if (SocketIOManager.Instance != null && SocketIOManager.Instance.IsConnected)
    {
        return SocketIOManager.Instance.SessionId; // –ù–∞—à socketId
    }
    return "";
}
```

---

## ‚ú® **–î–û–ë–ê–í–õ–ï–ù–ò–ï –í–ò–ó–£–ê–õ–¨–ù–û–ô –ê–£–†–´ –î–õ–Ø –î–†–£–ì–ò–• –ò–ì–†–û–ö–û–í:**

### **–ü—Ä–æ–±–ª–µ–º–∞:**
Eagle Eye –ø—Ä–∏–º–µ–Ω—è–µ—Ç buff (+2 Perception), –Ω–æ **–∞—É—Ä–∞ –Ω–µ –≤–∏–¥–Ω–∞** –¥—Ä—É–≥–∏–º –∏–≥—Ä–æ–∫–∞–º.

### **–†–µ—à–µ–Ω–∏–µ:**

–û—Ç–∫—Ä–æ–π—Ç–µ `Assets/Scripts/Network/NetworkSyncManager.cs`, –Ω–∞–π–¥–∏—Ç–µ –º–µ—Ç–æ–¥ `OnEffectApplied()` (—Å—Ç—Ä–æ–∫–∞ ~1067) –∏ **–î–û–ë–ê–í–¨–¢–ï** —Å–æ–∑–¥–∞–Ω–∏–µ –∞—É—Ä—ã:

```csharp
private void OnEffectApplied(string jsonData)
{
    Debug.Log($"[NetworkSync] ‚ú® RAW effect_applied JSON: {jsonData}");

    try
    {
        var data = JsonConvert.DeserializeObject<EffectAppliedEvent>(jsonData);

        // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º —Å–≤–æ–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã
        if (data.socketId == localPlayerSocketId)
        {
            Debug.Log($"[NetworkSync] ‚è≠Ô∏è –≠—Ç–æ –Ω–∞—à —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç, –ø—Ä–æ–ø—É—Å–∫–∞–µ–º");
            return;
        }

        // –ù–∞—Ö–æ–¥–∏–º —Ü–µ–ª–µ–≤–æ–≥–æ –∏–≥—Ä–æ–∫–∞
        Transform targetTransform = null;

        if (data.targetSocketId == localPlayerSocketId && localPlayer != null)
        {
            // –≠—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏–º–µ–Ω—ë–Ω –Ω–∞ –ù–ê–°
            targetTransform = localPlayer.transform;
            Debug.Log($"[NetworkSync] ‚ú® –≠—Ñ—Ñ–µ–∫—Ç {data.effectType} –ø—Ä–∏–º–µ–Ω—ë–Ω –Ω–∞ –õ–û–ö–ê–õ–¨–ù–û–ì–û –∏–≥—Ä–æ–∫–∞");
        }
        else if (networkPlayers.TryGetValue(data.targetSocketId, out NetworkPlayer targetPlayer))
        {
            // –≠—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏–º–µ–Ω—ë–Ω –Ω–∞ —Å–µ—Ç–µ–≤–æ–≥–æ –∏–≥—Ä–æ–∫–∞
            targetTransform = targetPlayer.transform;
            Debug.Log($"[NetworkSync] ‚ú® –≠—Ñ—Ñ–µ–∫—Ç {data.effectType} –ø—Ä–∏–º–µ–Ω—ë–Ω –Ω–∞ —Å–µ—Ç–µ–≤–æ–≥–æ –∏–≥—Ä–æ–∫–∞ {targetPlayer.username}");
        }

        if (targetTransform != null)
        {
            // ‚úÖ –°–û–ó–î–ê–Å–ú –í–ò–ó–£–ê–õ–¨–ù–£–Æ –ê–£–†–£
            if (!string.IsNullOrEmpty(data.particleEffectPrefabName))
            {
                GameObject particlePrefab = Resources.Load<GameObject>($"Effects/{data.particleEffectPrefabName}");

                if (particlePrefab != null)
                {
                    // –°–æ–∑–¥–∞—ë–º –∞—É—Ä—É –∫–∞–∫ child –æ–±—ä–µ–∫—Ç –∏–≥—Ä–æ–∫–∞
                    GameObject aura = Instantiate(particlePrefab, targetTransform);
                    aura.transform.localPosition = Vector3.up * 1f; // 1 –º–µ—Ç—Ä –Ω–∞–¥ –≥–æ–ª–æ–≤–æ–π
                    aura.transform.localRotation = Quaternion.Euler(-90f, 0f, 0f); // –ü–æ–≤–æ—Ä–æ—Ç –≤–Ω–∏–∑

                    // –£–¥–∞–ª—è–µ–º —á–µ—Ä–µ–∑ duration —Å–µ–∫—É–Ω–¥
                    Destroy(aura, data.duration);

                    Debug.Log($"[NetworkSync] ‚ú® –ê—É—Ä–∞ {data.effectType} —Å–æ–∑–¥–∞–Ω–∞ –¥–ª—è {targetTransform.name} –Ω–∞ {data.duration} —Å–µ–∫—É–Ω–¥");
                }
                else
                {
                    Debug.LogWarning($"[NetworkSync] ‚ö†Ô∏è Particle prefab –Ω–µ –Ω–∞–π–¥–µ–Ω: Effects/{data.particleEffectPrefabName}");
                }
            }
        }
        else
        {
            Debug.LogWarning($"[NetworkSync] ‚ö†Ô∏è –¶–µ–ª–µ–≤–æ–π –∏–≥—Ä–æ–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω: targetSocketId={data.targetSocketId}");
        }
    }
    catch (Exception ex)
    {
        Debug.LogError($"[NetworkSync] ‚ùå –û—à–∏–±–∫–∞ –≤ OnEffectApplied: {ex.Message}\nJSON: {jsonData}");
    }
}
```

---

## üß™ **–¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï:**

### **1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ 2 –∫–ª–∏–µ–Ω—Ç–∞ Unity:**

**–ö–ª–∏–µ–Ω—Ç 1 (–ò–≥—Ä–æ–∫ A):**
- –°–æ–∑–¥–∞—ë—Ç –∫–æ–º–Ω–∞—Ç—É
- –í—ã–±–∏—Ä–∞–µ—Ç Archer
- –í—Ö–æ–¥–∏—Ç –≤ –∞—Ä–µ–Ω—É

**–ö–ª–∏–µ–Ω—Ç 2 (–ò–≥—Ä–æ–∫ B):**
- –ü–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ —Ç–æ–π –∂–µ –∫–æ–º–Ω–∞—Ç–µ
- –í—ã–±–∏—Ä–∞–µ—Ç –ª—é–±–æ–π –∫–ª–∞—Å—Å
- –í—Ö–æ–¥–∏—Ç –≤ –∞—Ä–µ–Ω—É

### **2. –ò–≥—Ä–æ–∫ A –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Eagle Eye (–∫–Ω–æ–ø–∫–∞ `4`):**

**–ß—Ç–æ –î–û–õ–ñ–ù–û –ø—Ä–æ–∏–∑–æ–π—Ç–∏:**

**–£ –ò–≥—Ä–æ–∫–∞ A (–ª–æ–∫–∞–ª—å–Ω–æ):**
```
[PlayerAttack] üéØ –ü—Ä—è–º–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∫–∏–ª–ª–∞ 3: Eagle Eye
[ManaSystem] -40 MP. –û—Å—Ç–∞–ª–æ—Å—å: 0/65
[SkillExecutor] ‚úÖ –ü–æ—Ç—Ä–∞—á–µ–Ω–æ 40 –º–∞–Ω—ã
[EffectManager] ‚ú® –ü—Ä–∏–º–µ–Ω—ë–Ω —ç—Ñ—Ñ–µ–∫—Ç: IncreasePerception (15—Å)
[PlayerAttack] üì° –°–∫–∏–ª–ª Eagle Eye (ID:303) –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä  ‚Üê ‚úÖ –ù–û–í–û–ï
[FogOfWar] –†–∞–¥–∏—É—Å –≤–∏–¥–∏–º–æ—Å—Ç–∏ –æ–±–Ω–æ–≤–ª–µ–Ω: 22–º
```

**–£ –ò–≥—Ä–æ–∫–∞ B (—É–¥–∞–ª—ë–Ω–Ω–æ):**
```
[NetworkSync] ‚ö° RAW player_used_skill JSON: {...}  ‚Üê ‚úÖ –ù–û–í–û–ï
[NetworkSync] ‚ö° –°–∫–∏–ª–ª –ø–æ–ª—É—á–µ–Ω: socketId=xyz, skillId=303
[NetworkSync] üé¨ –ê–Ω–∏–º–∞—Ü–∏—è 'Skill' –∑–∞–ø—É—â–µ–Ω–∞ –¥–ª—è PlayerA  ‚Üê ‚úÖ –ù–û–í–û–ï
[NetworkSync] ‚ú® RAW effect_applied JSON: {...}
[NetworkSync] ‚ú® –≠—Ñ—Ñ–µ–∫—Ç IncreasePerception –ø—Ä–∏–º–µ–Ω—ë–Ω –Ω–∞ PlayerA
[NetworkSync] ‚ú® –ê—É—Ä–∞ IncreasePerception —Å–æ–∑–¥–∞–Ω–∞  ‚Üê ‚úÖ –ù–û–í–û–ï
```

---

## üìä **–†–ï–ó–£–õ–¨–¢–ê–¢:**

–ü–æ—Å–ª–µ —ç—Ç–∏—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:
- ‚úÖ –ò–≥—Ä–æ–∫ B **–í–ò–î–ò–¢** –∞–Ω–∏–º–∞—Ü–∏—é –∫–∞—Å—Ç–∞ Eagle Eye —É –ò–≥—Ä–æ–∫–∞ A
- ‚úÖ –ò–≥—Ä–æ–∫ B **–í–ò–î–ò–¢** –∑–æ–ª–æ—Ç—É—é –∞—É—Ä—É –Ω–∞–¥ –≥–æ–ª–æ–≤–æ–π –ò–≥—Ä–æ–∫–∞ A (15 —Å–µ–∫—É–Ω–¥)
- ‚úÖ –ò–≥—Ä–æ–∫ B **–í–ò–î–ò–¢** –≤–∏–∑—É–∞–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç –∫–∞—Å—Ç–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å `castEffectPrefab`)

---

## üî• **–†–ê–°–®–ò–†–ï–ù–ò–ï –ù–ê –í–°–ï –°–ö–ò–õ–õ–´:**

–≠—Ç–∞ —Å–∏—Å—Ç–µ–º–∞ **–ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò** —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è **–í–°–ï–•** —Å–∫–∏–ª–ª–æ–≤:
- Fireball - –¥—Ä—É–≥–∏–µ –∏–≥—Ä–æ–∫–∏ –≤–∏–¥—è—Ç –∞–Ω–∏–º–∞—Ü–∏—é –∫–∞—Å—Ç–∞ + —Å–Ω–∞—Ä—è–¥ –ª–µ—Ç–∏—Ç
- Ice Nova - –¥—Ä—É–≥–∏–µ –≤–∏–¥—è—Ç –∞–Ω–∏–º–∞—Ü–∏—é + –≤–∑—Ä—ã–≤
- Battle Rage - –¥—Ä—É–≥–∏–µ –≤–∏–¥—è—Ç –∫—Ä–∞—Å–Ω—É—é –∞—É—Ä—É
- Bear Form - –¥—Ä—É–≥–∏–µ –≤–∏–¥—è—Ç —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—é (–Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å `OnPlayerTransformed`)

---

## üéØ **–°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò:**

1. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–π (Bear Form)
2. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é hit effects (–∫—Ä–∞—Å–Ω–∞—è –≤—Å–ø—ã—à–∫–∞ –ø—Ä–∏ —É—Ä–æ–Ω–µ)
3. ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ —Å–Ω–∞—Ä—è–¥–æ–≤ (–∏–∑–±–µ–∂–∞—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è)

---

**–ì–æ—Ç–æ–≤–æ! –¢–µ–ø–µ—Ä—å –≤—Å–µ —Å–∫–∏–ª–ª—ã –±—É–¥—É—Ç –≤–∏–¥–Ω—ã –≤ –º—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä–µ! üöÄ**
