# üêõ –ñ—É—Ä–Ω–∞–ª –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–≥–æ–≤ - Aetherion

## üìÖ 10.10.2025 - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ –∫–æ–Ω—Å–æ–ª–∏

---

### ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ #1: ParticleSystem duration warning

**–ü—Ä–æ–±–ª–µ–º–∞:**
```
Setting the duration while system is still playing is not supported.
Please wait until the system has stopped and all particles have expired
or call Stop with ParticleSystemStopBehavior.StopEmittingAndClear.
```

**–ü—Ä–∏—á–∏–Ω–∞:**
–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ ParticleSystem –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è (–∏–≥—Ä–∞–µ—Ç).
–ü–æ–ø—ã—Ç–∫–∞ –∏–∑–º–µ–Ω–∏—Ç—å `main.duration` –Ω–∞ –∏–≥—Ä–∞—é—â–µ–π —Å–∏—Å—Ç–µ–º–µ –≤—ã–∑—ã–≤–∞–ª–∞ –æ—à–∏–±–∫—É.

**–†–µ—à–µ–Ω–∏–µ:**
–î–æ–±–∞–≤–ª–µ–Ω –≤—ã–∑–æ–≤ `Stop(true, ParticleSystemStopBehavior.StopEmittingAndClear)`
—Å—Ä–∞–∑—É –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è ParticleSystem, –ø–µ—Ä–µ–¥ –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.

**–ò–∑–º–µ–Ω—ë–Ω–Ω—ã–π —Ñ–∞–π–ª:**
- `Assets/Scripts/Effects/WeaponGlowEffect.cs`
  - –°—Ç—Ä–æ–∫–∞ 107: `CreateElectricParticles()`
  - –°—Ç—Ä–æ–∫–∞ 173: `CreateAuraParticles()`

**–ö–æ–¥ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```csharp
electricParticles = particleObj.AddComponent<ParticleSystem>();

// –í–ê–ñ–ù–û: –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–∏—Å—Ç–µ–º—É –ø–µ—Ä–µ–¥ –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π
electricParticles.Stop(true, ParticleSystemStopBehavior.StopEmittingAndClear);

var main = electricParticles.main;
main.duration = 1.0f; // –¢–µ–ø–µ—Ä—å –±–µ–∑–æ–ø–∞—Å–Ω–æ
```

---

### ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ #2: CharacterController.Move –Ω–∞ –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ–º –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ

**–ü—Ä–æ–±–ª–µ–º–∞:**
```
CharacterController.Move called on inactive controller
```

**–ü—Ä–∏—á–∏–Ω–∞:**
–í–æ –≤—Ä–µ–º—è –∞—Ç–∞–∫–∏ —Å–∏—Å—Ç–µ–º–∞ `PlayerAttack.cs` –æ—Ç–∫–ª—é—á–∞–µ—Ç CharacterController
(`characterController.enabled = false`) –¥–ª—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –¥–≤–∏–∂–µ–Ω–∏—è.
–ù–æ —Å–∫—Ä–∏–ø—Ç—ã `PlayerController.cs` –∏ `MixamoPlayerController.cs` –ø—Ä–æ–¥–æ–ª–∂–∞–ª–∏
–≤—ã–∑—ã–≤–∞—Ç—å `Move()`, —á—Ç–æ –≤—ã–∑—ã–≤–∞–ª–æ –æ—à–∏–±–∫—É.

**–†–µ—à–µ–Ω–∏–µ:**
–î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ `characterController.enabled` –ø–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –≤—ã–∑–æ–≤–æ–º `Move()`.

**–ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
1. `Assets/Scripts/Player/PlayerController.cs` (—Å—Ç—Ä–æ–∫–∞ 118)
2. `Assets/Scripts/Player/MixamoPlayerController.cs` (—Å—Ç—Ä–æ–∫–∏ 108, 171)

**–ö–æ–¥ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```csharp
// –ü—Ä–∏–º–µ–Ω—è–µ–º –¥–≤–∏–∂–µ–Ω–∏–µ (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –∞–∫—Ç–∏–≤–µ–Ω)
if (characterController != null && characterController.enabled)
{
    characterController.Move(movement);
}
```

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ |
|-----------|------------|
| –û—à–∏–±–∫–∏ ParticleSystem | 4 (2 –¥–ª—è Electric + 2 –¥–ª—è Aura) |
| –û—à–∏–±–∫–∏ CharacterController | 9+ |
| **–í—Å–µ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ** | **13+** |
| –ò–∑–º–µ–Ω—ë–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ | 3 |
| –î–æ–±–∞–≤–ª–µ–Ω–æ —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞ | ~15 |

---

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:
- ‚úÖ –ö–æ–Ω—Å–æ–ª—å Unity —á–∏—Å—Ç–∞—è (–Ω–µ—Ç –æ—à–∏–±–æ–∫)
- ‚úÖ –≠—Ñ—Ñ–µ–∫—Ç—ã –æ—Ä—É–∂–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –¥–≤–∏–∂–µ–Ω–∏—è –ø—Ä–∏ –∞—Ç–∞–∫–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ –ü—Ä–æ–µ–∫—Ç –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ

---

**–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ:** ‚úÖ
**–ö–æ–º–º–∏—Ç:** Bugfix - ParticleSystem duration –∏ CharacterController.Move errors
**–î–∞—Ç–∞:** 10.10.2025
