# ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ê –û–®–ò–ë–ö–ê NullReferenceException

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞:

```
NullReferenceException: Object reference not set to an instance of an object
TMPro.TextMeshProUGUI.SetOutlineThickness (System.Single thickness)
TMPro.TMP_Text.set_outlineWidth (System.Single value)
DamageNumberManager.CreateDefaultPrefab ()
```

## üîç –ü—Ä–∏—á–∏–Ω–∞:

–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –¥–µ—Ñ–æ–ª—Ç–Ω–æ–≥–æ prefab –¥–ª—è damage numbers –º—ã –ø—ã—Ç–∞–ª–∏—Å—å —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `outlineWidth` –¥–æ —Ç–æ–≥–æ, –∫–∞–∫ TextMeshProUGUI –±—ã–ª –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω. –í Unity 2022.3 —ç—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç NullReferenceException.

## ‚úÖ –†–µ—à–µ–Ω–∏–µ:

### 1. –£–±—Ä–∞–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∫—É outline –≤ CreateDefaultPrefab():

**–ë—ã–ª–æ:**
```csharp
TextMeshProUGUI textMesh = prefab.AddComponent<TextMeshProUGUI>();
textMesh.font = Resources.Load<TMP_FontAsset>("Fonts & Materials/LiberationSans SDF");
textMesh.fontSize = 36;
textMesh.color = Color.white;

// Outline –¥–ª—è —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏
textMesh.outlineWidth = 0.2f;  // ‚Üê –û–®–ò–ë–ö–ê –ó–î–ï–°–¨!
textMesh.outlineColor = Color.black;
```

**–°—Ç–∞–ª–æ:**
```csharp
TextMeshProUGUI textMesh = prefab.AddComponent<TextMeshProUGUI>();

// –ü—ã—Ç–∞–µ–º—Å—è –∑–∞–≥—Ä—É–∑–∏—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —à—Ä–∏—Ñ—Ç TMP
TMP_FontAsset font = Resources.Load<TMP_FontAsset>("Fonts & Materials/LiberationSans SDF");
if (font == null)
{
    // –ï—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω, –ø—Ä–æ–±—É–µ–º –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –ø—É—Ç—å
    font = Resources.Load<TMP_FontAsset>("TextMesh Pro/Fonts/LiberationSans SDF");
}
if (font != null)
{
    textMesh.font = font;
}

textMesh.fontSize = 36;
textMesh.color = Color.white;
// Outline —É–±—Ä–∞–Ω - —ç—Ç–æ —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É!
```

### 2. –î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞—â–∏—Ç–∞ –æ—Ç null –≤ DamageNumber.Update():

**–î–æ–±–∞–≤–ª–µ–Ω–æ:**
```csharp
void Update()
{
    if (textMesh == null) return;  // ‚Üê –ó–∞—â–∏—Ç–∞ –æ—Ç null

    timer += Time.deltaTime;
    // ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥ ...
}
```

### 3. –£–ª—É—á—à–µ–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∞ —à—Ä–∏—Ñ—Ç–∞:

–¢–µ–ø–µ—Ä—å –ø—Ä–æ–±—É–µ–º –¥–≤–∞ –ø—É—Ç–∏ –∫ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º—É TMP —à—Ä–∏—Ñ—Ç—É:
1. `"Fonts & Materials/LiberationSans SDF"`
2. `"TextMesh Pro/Fonts/LiberationSans SDF"`

–ï—Å–ª–∏ –Ω–∏ –æ–¥–∏–Ω –Ω–µ –Ω–∞–π–¥–µ–Ω - TextMeshProUGUI –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–π —à—Ä–∏—Ñ—Ç Unity.

---

## üìù –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:

### DamageNumberManager.cs:
```
–°—Ç—Ä–æ–∫–∏ 110-149: CreateDefaultPrefab()
  - –£–±—Ä–∞–ª–∏ textMesh.outlineWidth
  - –£–±—Ä–∞–ª–∏ textMesh.outlineColor
  - –î–æ–±–∞–≤–∏–ª–∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –ø—É—Ç—å –∫ —à—Ä–∏—Ñ—Ç—É
  - –î–æ–±–∞–≤–∏–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫—É font != null
```

### DamageNumber.cs:
```
–°—Ç—Ä–æ–∫–∏ 67-90: Update()
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ if (textMesh == null) return;
```

---

## ‚úÖ –°—Ç–∞—Ç—É—Å:

**–ò–°–ü–†–ê–í–õ–ï–ù–û!** –¢–µ–ø–µ—Ä—å damage numbers —Å–æ–∑–¥–∞—é—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫.

---

## üéÆ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

1. –û—Ç–∫—Ä–æ–π—Ç–µ Unity
2. Play ‚ñ∂Ô∏è
3. –ê—Ç–∞–∫—É–π—Ç–µ –≤—Ä–∞–≥–∞ (–õ–ö–ú)

**–û–∂–∏–¥–∞–µ–º–æ–µ:**
```
‚úÖ –¶–∏—Ñ—Ä—ã —É—Ä–æ–Ω–∞ –ø–æ—è–≤–ª—è—é—Ç—Å—è –Ω–∞–¥ –≤—Ä–∞–≥–æ–º
‚úÖ –ù–µ—Ç NullReferenceException –≤ Console
‚úÖ –õ–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç:
   [DamageNumberManager] –°–æ–∑–¥–∞–Ω –¥–µ—Ñ–æ–ª—Ç–Ω—ã–π prefab
   [DamageNumberManager] –ü–æ–∫–∞–∑–∞–Ω —É—Ä–æ–Ω: 45 (Crit: False, Heal: False)
```

---

## üí° –ü–æ—á–µ–º—É —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

### –ü—Ä–æ–±–ª–µ–º–∞ —Å Outline:
TextMeshProUGUI –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–ª—è outline —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –ø–æ–ª–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞. –ü—Ä–∏ –≤—ã–∑–æ–≤–µ `outlineWidth` –≤–æ –≤—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è prefab —ç—Ç–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –µ—â—ë –Ω–µ –≥–æ—Ç–æ–≤—ã ‚Üí NullReferenceException.

### –†–µ—à–µ–Ω–∏–µ:
–£–±—Ä–∞–ª–∏ outline –∏–∑ –¥–µ—Ñ–æ–ª—Ç–Ω–æ–≥–æ prefab. Outline - —ç—Ç–æ –≤–∏–∑—É–∞–ª—å–Ω–æ–µ —É–∫—Ä–∞—à–µ–Ω–∏–µ, –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞. –ü–æ–∑–∂–µ –º–æ–∂–Ω–æ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞—Ç—å proper prefab –≤ Unity Editor —Å outline, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ.

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω outline):
```csharp
// –í–º–µ—Å—Ç–æ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è prefab:
// 1. –°–æ–∑–¥–∞—Ç—å prefab –≤ Unity Editor
// 2. –î–æ–±–∞–≤–∏—Ç—å TextMeshProUGUI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
// 3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å outline —á–µ—Ä–µ–∑ Inspector
// 4. –ù–∞–∑–Ω–∞—á–∏—Ç—å prefab –≤ DamageNumberManager.damageNumberPrefab
```

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ:

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
```
‚ùå NullReferenceException –∫–∞–∂–¥—É—é –∞—Ç–∞–∫—É
‚ùå Damage numbers –Ω–µ —Å–æ–∑–¥–∞—é—Ç—Å—è
‚ùå –û—à–∏–±–∫–∏ –≤ Console
```

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
```
‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫
‚úÖ Damage numbers —Å–æ–∑–¥–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
‚úÖ –¶–∏—Ñ—Ä—ã –≤–∏–¥–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç
```

---

## üéâ –ì–û–¢–û–í–û!

Damage Numbers —Å–∏—Å—Ç–µ–º–∞ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫!

**–ü—Ä–∏—è—Ç–Ω–æ–π –∏–≥—Ä—ã!** üéÆ
