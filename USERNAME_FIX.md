# ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –ù–ò–ö–ù–ï–ô–ú–û–í

## ‚ùå –ü–†–û–ë–õ–ï–ú–ê:
–í—Å–µ –∏–≥—Ä–æ–∫–∏ –∏–º–µ—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –Ω–∏–∫–Ω–µ–π–º "TestPlayer" –≤–º–µ—Å—Ç–æ —Å–≤–æ–∏—Ö —Ä–µ–∞–ª—å–Ω—ã—Ö username.

## üîç –ü–†–ò–ß–ò–ù–ê:
–í **AuthenticationManager** –ø—Ä–∏ –ª–æ–≥–∏–Ω–µ/—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Å–æ—Ö—Ä–∞–Ω—è–ª—Å—è —Ç–æ–ª—å–∫–æ **—Ç–æ–∫–µ–Ω**, –Ω–æ –ù–ï —Å–æ—Ö—Ä–∞–Ω—è–ª—Å—è **username**!

```csharp
// –ë–´–õ–û (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
private void SaveUserToken(string token)
{
    PlayerPrefs.SetString("UserToken", token);
    // Username –ù–ï —Å–æ—Ö—Ä–∞–Ω—è–ª—Å—è! ‚ùå
}

// –°–¢–ê–õ–û (–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
private void SaveUserData(string token, string username)
{
    PlayerPrefs.SetString("UserToken", token);
    PlayerPrefs.SetString("Username", username); // ‚úÖ –¢–µ–ø–µ—Ä—å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è!
}
```

---

## ‚úÖ –ß–¢–û –ò–°–ü–†–ê–í–õ–ï–ù–û:

### 1. AuthenticationManager.cs
- –ú–µ—Ç–æ–¥ `SaveUserToken()` –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω –≤ `SaveUserData()`
- –¢–µ–ø–µ—Ä—å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ò —Ç–æ–∫–µ–Ω –ò username
- –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –ª–æ–≥–∏–Ω–µ –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

### 2. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
–¢–µ–ø–µ—Ä—å –≤ Unity Console –±—É–¥–µ—Ç:
```
[Auth] ‚úÖ –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã: Username=player1, Token=eyJhbGciOi...
```

---

## üéÆ –ö–ê–ö –ü–†–û–í–ï–†–ò–¢–¨:

### –®–∞–≥ 1: –û—á–∏—Å—Ç–∏—Ç–µ —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ
**–í–ê–ñ–ù–û!** –°—Ç–∞—Ä—ã–µ –∏–≥—Ä–æ–∫–∏ –≤—Å—ë –µ—â—ë –∏–º–µ—é—Ç —Å—Ç–∞—Ä—ã–π Username –≤ PlayerPrefs.

–î–æ–±–∞–≤—å—Ç–µ –≤—Ä–µ–º–µ–Ω–Ω—É—é –∫–Ω–æ–ø–∫—É –≤ LoginScene –¥–ª—è –æ—á–∏—Å—Ç–∫–∏:
```csharp
// –í –ª—é–±–æ–º UI —Å–∫—Ä–∏–ø—Ç–µ –¥–æ–±–∞–≤—å—Ç–µ –∫–Ω–æ–ø–∫—É:
public void ClearPlayerPrefs()
{
    PlayerPrefs.DeleteAll();
    PlayerPrefs.Save();
    Debug.Log("PlayerPrefs –æ—á–∏—â–µ–Ω—ã!");
}
```

–ò–ª–∏ –≤ Unity Editor:
```
1. Tools ‚Üí PlayerPrefs ‚Üí Delete All (–µ—Å–ª–∏ –µ—Å—Ç—å —Ç–∞–∫–æ–π –ø–ª–∞–≥–∏–Ω)
2. –ò–ª–∏ —á–µ—Ä–µ–∑ –∫–æ–¥ –≤ Unity Console:
   PlayerPrefs.DeleteAll(); PlayerPrefs.Save();
```

### –®–∞–≥ 2: –ó–∞–Ω–æ–≤–æ –∑–∞–ª–æ–≥–∏–Ω—å—Ç–µ—Å—å
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∏–≥—Ä—É
2. –í–æ–π–¥–∏—Ç–µ —Å username "player1"
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Unity Console:
   ```
   [Auth] ‚úÖ –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã: Username=player1, Token=...
   ```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –∞—Ä–µ–Ω–µ
1. –í–æ–π–¥–∏—Ç–µ –≤ –∞—Ä–µ–Ω—É
2. –í–∞—à –Ω–∏–∫–Ω–µ–π–º –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å "player1" (–Ω–µ "TestPlayer")

### –®–∞–≥ 4: –¢–µ—Å—Ç –º—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä–∞
1. –°–æ–±–µ—Ä–∏—Ç–µ 2 –∫–ª–∏–µ–Ω—Ç–∞
2. –í–æ–π–¥–∏—Ç–µ:
   - –ö–ª–∏–µ–Ω—Ç 1: username "player1"
   - –ö–ª–∏–µ–Ω—Ç 2: username "player2"
3. –í–æ–π–¥–∏—Ç–µ –≤ –æ–¥–Ω—É –∫–æ–º–Ω–∞—Ç—É
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –Ω–∏–∫–Ω–µ–π–º—ã —Ä–∞–∑–Ω—ã–µ!

---

## üîç –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê:

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 1: Username —Å–æ—Ö—Ä–∞–Ω—ë–Ω?
–í Unity Console –ø–æ—Å–ª–µ –ª–æ–≥–∏–Ω–∞:
```csharp
Debug.Log("Username: " + PlayerPrefs.GetString("Username", "NOT SET"));
```

–î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
```
Username: player1
```

–ù–ï –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
```
Username: TestPlayer  ‚ùå
Username: NOT SET     ‚ùå
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 2: Username –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∏–≥—Ä–µ?
–í GameScene –∏–ª–∏ ArenaScene:
```csharp
string username = PlayerPrefs.GetString("Username", "Player");
Debug.Log($"–¢–µ–∫—É—â–∏–π username: {username}");
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 3: Username –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä?
–í SimpleWebSocketClient –∏–ª–∏ RoomManager –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ username –±–µ—Ä—ë—Ç—Å—è –∏–∑ PlayerPrefs:
```csharp
string username = PlayerPrefs.GetString("Username", "UnknownPlayer");
```

---

## üêõ –ï–°–õ–ò –í–°–Å –†–ê–í–ù–û "TestPlayer":

### –ü—Ä–∏—á–∏–Ω–∞ 1: –°—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ PlayerPrefs
**–†–µ—à–µ–Ω–∏–µ**: –û—á–∏—Å—Ç–∏—Ç–µ PlayerPrefs (—Å–º. –®–∞–≥ 1 –≤—ã—à–µ)

### –ü—Ä–∏—á–∏–Ω–∞ 2: –ì–¥–µ-—Ç–æ –≤ –∫–æ–¥–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è "TestPlayer"
**–ü—Ä–æ–≤–µ—Ä–∫–∞**: –ü–æ–∏—Å–∫ –ø–æ –≤—Å–µ–º—É –ø—Ä–æ–µ–∫—Ç—É:
```
Ctrl+Shift+F ‚Üí "TestPlayer"
```

–ù–∞–π–¥–∏—Ç–µ –≤—Å–µ –º–µ—Å—Ç–∞ –≥–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è "TestPlayer" –∏ —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –æ–Ω–∏ —É–¥–∞–ª–µ–Ω—ã.

### –ü—Ä–∏—á–∏–Ω–∞ 3: Username –Ω–µ –±–µ—Ä—ë—Ç—Å—è –∏–∑ PlayerPrefs
**–ü—Ä–æ–≤–µ—Ä–∫–∞**: –ù–∞–π–¥–∏—Ç–µ –≥–¥–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è username –¥–ª—è –º—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä–∞:
```csharp
// –î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
string username = PlayerPrefs.GetString("Username", "Player");

// –ù–ï –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
string username = "TestPlayer"; ‚ùå
```

### –ü—Ä–∏—á–∏–Ω–∞ 4: –°–µ—Ä–≤–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π username
**–ü—Ä–æ–≤–µ—Ä–∫–∞**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ server logs –∫–æ–≥–¥–∞ –∏–≥—Ä–æ–∫ –∑–∞—Ö–æ–¥–∏—Ç –≤ –∫–æ–º–Ω–∞—Ç—É:
```
[Room] Player player1 joined room
```

–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ:
```
[Room] Player TestPlayer joined room  ‚ùå
```

–ó–Ω–∞—á–∏—Ç –ø—Ä–æ–±–ª–µ–º–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ JWT —Ç–æ–∫–µ–Ω –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ.

---

## üìã –ß–ï–ö–õ–ò–°–¢:

- [ ] AuthenticationManager.cs –∏–∑–º–µ–Ω—ë–Ω (SaveUserData –≤–º–µ—Å—Ç–æ SaveUserToken)
- [ ] PlayerPrefs –æ—á–∏—â–µ–Ω—ã (DeleteAll)
- [ ] –ó–∞–Ω–æ–≤–æ –∑–∞–ª–æ–≥–∏–Ω–∏–ª–∏—Å—å
- [ ] Username —Å–æ—Ö—Ä–∞–Ω—ë–Ω –≤ PlayerPrefs
- [ ] Username –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ GameScene
- [ ] Username –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ ArenaScene
- [ ] –í –º—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä–µ —É –∫–∞–∂–¥–æ–≥–æ –∏–≥—Ä–æ–∫–∞ —Å–≤–æ–π username
- [ ] –ù–∏–∫–∞–∫–∏—Ö "TestPlayer" –±–æ–ª—å—à–µ –Ω–µ—Ç!

---

## üéØ –ò–¢–û–ì:

**–î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è**:
```
–ò–≥—Ä–æ–∫ 1: TestPlayer
–ò–≥—Ä–æ–∫ 2: TestPlayer
```

**–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è**:
```
–ò–≥—Ä–æ–∫ 1: player1
–ò–≥—Ä–æ–∫ 2: player2
```

---

## üí° –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û:

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –≤–∏–¥–µ—Ç—å username –Ω–∞–¥ –≥–æ–ª–æ–≤–æ–π –∏–≥—Ä–æ–∫–∞ –≤ 3D (nameplate):
1. NetworkSyncManager –¥–æ–ª–∂–µ–Ω —Å–æ–∑–¥–∞–≤–∞—Ç—å nameplate
2. Nameplate –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å username –∏–∑ NetworkPlayer
3. –°–º. –∫–æ–¥ –≤ NetworkSyncManager.cs —Å—Ç—Ä–æ–∫–∏ 450-500

---

–ì–æ—Ç–æ–≤–æ! –¢–µ–ø–µ—Ä—å –∫–∞–∂–¥—ã–π –∏–≥—Ä–æ–∫ –∏–º–µ–µ—Ç —Å–≤–æ–π —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –Ω–∏–∫–Ω–µ–π–º! üéâ
