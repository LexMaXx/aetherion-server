using UnityEngine;
using UnityEditor;

/// <summary>
/// Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‘Ñ‚ Meteor SkillConfig Ğ´Ğ»Ñ Ğ¼Ğ°Ğ³Ğ°
/// Powerful AOE Ñ cast time Ğ¸ Ğ·Ğ¾Ğ½Ğ¾Ğ¹ Ğ¾Ğ³Ğ½Ñ
/// </summary>
public class CreateMeteor : Editor
{
    [MenuItem("Aetherion/Skills/Create Meteor (Mage)")]
    public static void Create()
    {
        // Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‘Ğ¼ SkillConfig
        SkillConfig skill = ScriptableObject.CreateInstance<SkillConfig>();

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // Ğ‘ĞĞ—ĞĞ’ĞĞ¯ Ğ˜ĞĞ¤ĞĞ ĞœĞĞ¦Ğ˜Ğ¯
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        skill.skillId = 205;
        skill.skillName = "Meteor";
        skill.description = "Ğ’Ñ‹Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ¼ĞµÑ‚ĞµĞ¾Ñ€Ğ¸Ñ‚ Ñ Ğ½ĞµĞ±Ğ°, Ğ½Ğ°Ğ½Ğ¾ÑÑÑ‰Ğ¸Ğ¹ Ğ¾Ğ³Ñ€Ğ¾Ğ¼Ğ½Ñ‹Ğ¹ ÑƒÑ€Ğ¾Ğ½ Ğ² Ğ¾Ğ±Ğ»Ğ°ÑÑ‚Ğ¸. ĞÑÑ‚Ğ°Ğ²Ğ»ÑĞµÑ‚ Ğ³Ğ¾Ñ€ÑÑ‰ÑƒÑ Ğ·Ğ¾Ğ½Ñƒ Ğ½Ğ° Ğ·ĞµĞ¼Ğ»Ğµ.";
        skill.icon = null; // TODO: Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ¸ĞºĞ¾Ğ½ĞºÑƒ

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // ĞšĞ›ĞĞ¡Ğ¡
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        skill.characterClass = CharacterClass.Mage;

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // ĞšĞĞ¡Ğ¢ Ğ˜ Ğ˜Ğ¡ĞŸĞĞ›Ğ¬Ğ—ĞĞ’ĞĞĞ˜Ğ•
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        skill.castTime = 2f; // 2 ÑĞµĞºÑƒĞ½Ğ´Ñ‹ ĞºĞ°ÑÑ‚ (Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ¿Ñ€ĞµÑ€Ğ²Ğ°Ñ‚ÑŒ)
        skill.castRange = 20f; // ĞœĞ°ĞºÑĞ¸Ğ¼ÑƒĞ¼ 20 Ğ¼ĞµÑ‚Ñ€Ğ¾Ğ²
        skill.canUseWhileMoving = false; // ĞĞµĞ»ÑŒĞ·Ñ Ğ´Ğ²Ğ¸Ğ³Ğ°Ñ‚ÑŒÑÑ Ğ²Ğ¾ Ğ²Ñ€ĞµĞ¼Ñ ĞºĞ°ÑÑ‚Ğ°

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // Ğ¢Ğ˜ĞŸ Ğ¡ĞšĞ˜Ğ›Ğ›Ğ - AOE DAMAGE + GROUND TARGET
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        skill.skillType = SkillConfigType.AOEDamage;
        skill.targetType = SkillTargetType.Ground; // Ground target
        skill.requiresTarget = false; // Ground target Ğ½Ğµ Ñ‚Ñ€ĞµĞ±ÑƒĞµÑ‚ Entity Ñ†ĞµĞ»Ğ¸
        skill.canTargetAllies = false;
        skill.canTargetEnemies = true;

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // Ğ£Ğ ĞĞ
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        skill.baseDamageOrHeal = 80f;
        skill.strengthScaling = 0f;
        skill.intelligenceScaling = 3.0f;
        // ĞŸÑ€Ğ¸ 100 Intelligence: 80 + 100*3.0 = 380 ÑƒÑ€Ğ¾Ğ½Ğ°
        // ĞŸÑ€Ğ¸ 9 INT (Ñ‚ĞµÑÑ‚): 80 + 9*3.0 = 107 ÑƒÑ€Ğ¾Ğ½Ğ°

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // AOE ĞŸĞĞ ĞĞœĞ•Ğ¢Ğ Ğ«
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        skill.aoeRadius = 6f; // 6 Ğ¼ĞµÑ‚Ñ€Ğ¾Ğ² Ñ€Ğ°Ğ´Ğ¸ÑƒÑ Ğ²Ğ·Ñ€Ñ‹Ğ²Ğ°
        skill.maxTargets = 10; // ĞœĞ°ĞºÑĞ¸Ğ¼ÑƒĞ¼ 10 Ğ²Ñ€Ğ°Ğ³Ğ¾Ğ²

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // ĞŸĞ Ğ•Ğ¤ĞĞ‘ ĞœĞ•Ğ¢Ğ•ĞĞ Ğ˜Ğ¢Ğ (meteor prefab ÑĞ¾ scale 100)
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        skill.projectilePrefab = AssetDatabase.LoadAssetAtPath<GameObject>(
            "Assets/Prefabs/Projectiles/meteor.prefab"
        );

        if (skill.projectilePrefab == null)
        {
            // Fallback Ğ½Ğ° Fireball ĞµÑĞ»Ğ¸ meteor Ğ½Ğµ Ğ½Ğ°Ğ¹Ğ´ĞµĞ½
            skill.projectilePrefab = AssetDatabase.LoadAssetAtPath<GameObject>(
                "Assets/Prefabs/Projectiles/Fireball.prefab"
            );
            Debug.LogWarning("âš ï¸ meteor.prefab Ğ½Ğµ Ğ½Ğ°Ğ¹Ğ´ĞµĞ½, Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ÑÑ Fireball.prefab");
        }

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // Ğ’Ğ˜Ğ—Ğ£ĞĞ›Ğ¬ĞĞ«Ğ• Ğ­Ğ¤Ğ¤Ğ•ĞšĞ¢Ğ«
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // Ğ­Ñ„Ñ„ĞµĞºÑ‚ ĞºĞ°ÑÑ‚Ğ° (Ğ¾Ğ³Ğ½ĞµĞ½Ğ½Ğ°Ñ Ğ°ÑƒÑ€Ğ° Ğ½Ğ° Ğ¼Ğ°Ğ³Ğµ Ğ²Ğ¾ Ğ²Ñ€ĞµĞ¼Ñ ĞºĞ°ÑÑ‚Ğ°)
        skill.castEffectPrefab = AssetDatabase.LoadAssetAtPath<GameObject>(
            "Assets/Resources/Effects/CFXR3 Hit Light B (Air).prefab"
        );

        // Ğ­Ñ„Ñ„ĞµĞºÑ‚ Ğ¿Ğ¾Ğ¿Ğ°Ğ´Ğ°Ğ½Ğ¸Ñ Ğ¼ĞµÑ‚ĞµĞ¾Ñ€Ğ¸Ñ‚Ğ° (Ğ±Ğ¾Ğ»ÑŒÑˆĞ¾Ğ¹ Ğ¾Ğ³Ğ½ĞµĞ½Ğ½Ñ‹Ğ¹ Ğ²Ğ·Ñ€Ñ‹Ğ²)
        skill.hitEffectPrefab = AssetDatabase.LoadAssetAtPath<GameObject>(
            "Assets/Resources/Effects/CFXR3 Fire Explosion B 1.prefab"
        );

        // AOE ÑÑ„Ñ„ĞµĞºÑ‚ (Ğ·Ğ¾Ğ½Ğ° Ğ¾Ğ³Ğ½Ñ Ğ½Ğ° Ğ·ĞµĞ¼Ğ»Ğµ)
        skill.aoeEffectPrefab = AssetDatabase.LoadAssetAtPath<GameObject>(
            "Assets/Resources/Effects/CFXR3 Fire Explosion B 1.prefab"
        );

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // Ğ Ğ•Ğ¡Ğ£Ğ Ğ¡Ğ«
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        skill.cooldown = 15f;
        skill.manaCost = 70f;

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // Ğ”ĞĞŸĞĞ›ĞĞ˜Ğ¢Ğ•Ğ›Ğ¬ĞĞ«Ğ• Ğ­Ğ¤Ğ¤Ğ•ĞšĞ¢Ğ« - Ğ—ĞĞĞ ĞĞ“ĞĞ¯ (DoT)
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        EffectConfig burnZone = new EffectConfig();
        burnZone.effectType = EffectType.Burn;
        burnZone.duration = 5f; // 5 ÑĞµĞºÑƒĞ½Ğ´
        burnZone.damageOrHealPerTick = 15f; // 15 ÑƒÑ€Ğ¾Ğ½Ğ° Ğ·Ğ° Ñ‚Ğ¸Ğº
        burnZone.tickInterval = 1f; // ĞšĞ°Ğ¶Ğ´ÑƒÑ ÑĞµĞºÑƒĞ½Ğ´Ñƒ
        burnZone.intelligenceScaling = 0.5f; // +0.5 ÑƒÑ€Ğ¾Ğ½Ğ° Ğ·Ğ° INT
        burnZone.canStack = false; // ĞĞµ ÑÑ‚Ğ°ĞºĞ°ĞµÑ‚ÑÑ
        burnZone.syncWithServer = true;

        skill.effects.Add(burnZone);

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // Ğ¡ĞĞ¥Ğ ĞĞĞ•ĞĞ˜Ğ•
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        string path = "Assets/Resources/Skills/Mage_Meteor.asset";

        AssetDatabase.CreateAsset(skill, path);
        AssetDatabase.SaveAssets();
        AssetDatabase.Refresh();

        EditorUtility.FocusProjectWindow();
        Selection.activeObject = skill;

        Debug.Log("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•");
        Debug.Log("â˜„ï¸ Meteor ÑĞ¾Ğ·Ğ´Ğ°Ğ½!");
        Debug.Log("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•");
        Debug.Log($"ğŸ“ ĞŸÑƒÑ‚ÑŒ: {path}");
        Debug.Log($"ğŸ†” Skill ID: {skill.skillId}");
        Debug.Log($"ğŸ’¥ Ğ‘Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğ¹ ÑƒÑ€Ğ¾Ğ½: {skill.baseDamageOrHeal}");
        Debug.Log($"ğŸ§  Intelligence scaling: {skill.intelligenceScaling}x");
        Debug.Log($"ğŸŒ€ AOE Ñ€Ğ°Ğ´Ğ¸ÑƒÑ: {skill.aoeRadius}Ğ¼");
        Debug.Log($"â±ï¸ Cast time: {skill.castTime}Ñ (Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ¿Ñ€ĞµÑ€Ğ²Ğ°Ñ‚ÑŒ)");
        Debug.Log($"ğŸ”¥ Ğ—Ğ¾Ğ½Ğ° Ğ¾Ğ³Ğ½Ñ: {burnZone.damageOrHealPerTick} ÑƒÑ€Ğ¾Ğ½Ğ°/ÑĞµĞº Ã— {burnZone.duration}Ñ");
        Debug.Log($"â±ï¸ Cooldown: {skill.cooldown}Ñ");
        Debug.Log($"ğŸ’§ Mana: {skill.manaCost}");
        Debug.Log("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•");
        Debug.Log("ğŸ“ Meteor Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ Ñ‚Ğ°Ğº:");
        Debug.Log("1. Ğ˜Ğ³Ñ€Ğ¾Ğº Ğ²Ñ‹Ğ±Ğ¸Ñ€Ğ°ĞµÑ‚ Ñ‚Ğ¾Ñ‡ĞºÑƒ Ğ½Ğ° Ğ·ĞµĞ¼Ğ»Ğµ (ground target)");
        Debug.Log("2. ĞĞ°Ñ‡Ğ¸Ğ½Ğ°ĞµÑ‚ÑÑ ĞºĞ°ÑÑ‚ 2 ÑĞµĞºÑƒĞ½Ğ´Ñ‹ (Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ¿Ñ€ĞµÑ€Ğ²Ğ°Ñ‚ÑŒ Ğ´Ğ²Ğ¸Ğ¶ĞµĞ½Ğ¸ĞµĞ¼)");
        Debug.Log("3. ĞœĞµÑ‚ĞµĞ¾Ñ€Ğ¸Ñ‚ Ğ¿Ğ°Ğ´Ğ°ĞµÑ‚ Ñ Ğ½ĞµĞ±Ğ° (Fireball Ã—5 Ñ€Ğ°Ğ·Ğ¼ĞµÑ€Ğ¾Ğ¼)");
        Debug.Log("4. Ğ’Ğ·Ñ€Ñ‹Ğ²Ğ°ĞµÑ‚ÑÑ Ğ¿Ñ€Ğ¸ ÑƒĞ´Ğ°Ñ€Ğµ Ğ¾ Ğ·ĞµĞ¼Ğ»Ñ");
        Debug.Log("5. ĞĞ°Ğ½Ğ¾ÑĞ¸Ñ‚ 107 ÑƒÑ€Ğ¾Ğ½Ğ° Ğ²ÑĞµĞ¼ Ğ²Ñ€Ğ°Ğ³Ğ°Ğ¼ Ğ² Ñ€Ğ°Ğ´Ğ¸ÑƒÑĞµ 6Ğ¼");
        Debug.Log("6. ĞÑÑ‚Ğ°Ğ²Ğ»ÑĞµÑ‚ Ğ·Ğ¾Ğ½Ñƒ Ğ¾Ğ³Ğ½Ñ Ğ½Ğ° 5 ÑĞµĞºÑƒĞ½Ğ´ (15 ÑƒÑ€Ğ¾Ğ½Ğ°/ÑĞµĞº)");
        Debug.Log("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•");
        Debug.Log("âš ï¸ Ğ’ĞĞ–ĞĞ: Cast time = 2 ÑĞµĞºÑƒĞ½Ğ´Ñ‹!");
        Debug.Log("   Ğ”Ğ²Ğ¸Ğ¶ĞµĞ½Ğ¸Ğµ Ğ²Ğ¾ Ğ²Ñ€ĞµĞ¼Ñ ĞºĞ°ÑÑ‚Ğ° Ğ¿Ñ€ĞµÑ€Ğ²Ñ‘Ñ‚ ÑĞºĞ¸Ğ»Ğ»");
        Debug.Log("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•");
    }
}
