# –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –ö–û–õ–õ–ò–ó–ò–ô –°–ù–ê–†–Ø–î–û–í

**–î–∞—Ç–∞:** 21 –æ–∫—Ç—è–±—Ä—è 2025
**–ü—Ä–æ–±–ª–µ–º–∞:** EtherealSkullProjectile –∏ CelestialBallProjectile –≤–∑—Ä—ã–≤–∞–ª–∏—Å—å –Ω–∞ –ø–æ–ª–ø—É—Ç–∏ –∫ —Ü–µ–ª–∏
**–ü—Ä–∏—á–∏–Ω–∞:** –°–Ω–∞—Ä—è–¥—ã –±—ã–ª–∏ –Ω–∞ —Å–ª–æ–µ Default –∏ –≤–∑—Ä—ã–≤–∞–ª–∏—Å—å –ø—Ä–∏ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–∏ —Å–æ —Å—Ç–µ–Ω–∞–º–∏, –ø–æ–ª–æ–º, –ª–∞–Ω–¥—à–∞—Ñ—Ç–æ–º

---

## –ß–¢–û –ë–´–õ–û –°–î–ï–õ–ê–ù–û

### 1. –î–æ–±–∞–≤–ª–µ–Ω –Ω–æ–≤—ã–π —Å–ª–æ–π "Projectile" (Layer 7)

**–§–∞–π–ª:** `ProjectSettings/TagManager.asset`

```yaml
layers:
- Default       # Layer 0
- TransparentFX # Layer 1
- Ignore Raycast # Layer 2
- Everything    # Layer 3
- Water         # Layer 4
- UI            # Layer 5
- Character     # Layer 6
- Projectile    # Layer 7 ‚Üê –ù–û–í–´–ô!
- Enemy         # Layer 8
```

---

### 2. –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ Physics Layer Collision Matrix

**–§–∞–π–ª:** `ProjectSettings/DynamicsManager.asset`

**Layer 7 (Projectile) —Ç–µ–ø–µ—Ä—å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç –¢–û–õ–¨–ö–û —Å:**
- Layer 6 (Character) - –∏–≥—Ä–æ–∫–∏
- Layer 7 (Projectile) - –¥—Ä—É–≥–∏–µ —Å–Ω–∞—Ä—è–¥—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- Layer 8 (Enemy) - –≤—Ä–∞–≥–∏

**–ù–ï –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —Å:**
- Layer 0 (Default) - —Å—Ç–µ–Ω—ã, –ø–æ–ª, –ª–∞–Ω–¥—à–∞—Ñ—Ç
- –í—Å–µ–º–∏ –æ—Å—Ç–∞–ª—å–Ω—ã–º–∏ —Å–ª–æ—è–º–∏

**Hex –∑–Ω–∞—á–µ–Ω–∏–µ collision matrix –¥–ª—è Layer 7:**
```
000001c0
```

–≠—Ç–æ binary: `0000_0000_0000_0000_0000_0001_1100_0000`
- Bit 6 = Character ‚úÖ
- Bit 7 = Projectile ‚úÖ (—Å–Ω–∞—Ä—è–¥—ã –º–æ–≥—É—Ç —Å—Ç–∞–ª–∫–∏–≤–∞—Ç—å—Å—è –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º)
- Bit 8 = Enemy ‚úÖ

---

### 3. –û–±–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ –ø—Ä–µ—Ñ–∞–±—ã —Å–Ω–∞—Ä—è–¥–æ–≤

–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Layer 7 (Projectile) –¥–ª—è:

#### ‚úÖ EtherealSkullProjectile.prefab
**–§–∞–π–ª:** `Assets/Resources/Projectiles/EtherealSkullProjectile.prefab`

**–ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è:**
```yaml
- target: {fileID: 919132149155446097, guid: c249ef1a93d3c2b4bb7028ac23da3ab8, type: 3}
  propertyPath: m_Layer
  value: 7
  objectReference: {fileID: 0}
```

#### ‚úÖ CelestialBallProjectile.prefab
**–§–∞–π–ª:** `Assets/Resources/Projectiles/CelestialBallProjectile.prefab`

**–ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è:**
```yaml
- target: {fileID: 919132149155446097, guid: efc1a24fdb4997d4fb61fef01318fdb5, type: 3}
  propertyPath: m_Layer
  value: 7
  objectReference: {fileID: 0}
```

#### ‚úÖ Ethereal_Skull_1020210937_texture.prefab
**–§–∞–π–ª:** `Assets/Prefabs/Projectiles/Ethereal_Skull_1020210937_texture.prefab`

**–ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è:**
```yaml
- target: {fileID: 919132149155446097, guid: c249ef1a93d3c2b4bb7028ac23da3ab8, type: 3}
  propertyPath: m_Layer
  value: 7
  objectReference: {fileID: 0}
```

---

## –ö–ê–ö –≠–¢–û –†–ê–ë–û–¢–ê–ï–¢

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
```
[–°–Ω–∞—Ä—è–¥ –Ω–∞ Default Layer]
    ‚Üì –ª–µ—Ç–∏—Ç
    ‚Üì
[–°—Ç–µ–Ω–∞ –Ω–∞ Default Layer] ‚Üê OnTriggerEnter() —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç!
    ‚Üì
üí• –°–Ω–∞—Ä—è–¥ –≤–∑—Ä—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –ø–æ–ª–ø—É—Ç–∏
```

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
```
[–°–Ω–∞—Ä—è–¥ –Ω–∞ Projectile Layer 7]
    ‚Üì –ª–µ—Ç–∏—Ç
    ‚Üì
[–°—Ç–µ–Ω–∞ –Ω–∞ Default Layer] ‚Üê –ö–æ–ª–ª–∏–∑–∏—è –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è (Physics Matrix)
    ‚Üì –ø—Ä–æ–ª–µ—Ç–∞–µ—Ç –¥–∞–ª—å—à–µ
    ‚Üì
[–í—Ä–∞–≥ –Ω–∞ Enemy Layer 8] ‚Üê OnTriggerEnter() —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç!
    ‚Üì
üí• –°–Ω–∞—Ä—è–¥ –≤–∑—Ä—ã–≤–∞–µ—Ç—Å—è –Ω–∞ —Ü–µ–ª–∏!
```

---

## –ö–û–î –û–ë–†–ê–ë–û–¢–ö–ò –ö–û–õ–õ–ò–ó–ò–ô

**–§–∞–π–ª:** `Assets/Scripts/Player/CelestialProjectile.cs`

**–ú–µ—Ç–æ–¥:** `OnTriggerEnter()` (—Å—Ç—Ä–æ–∫–∏ 441-465)

```csharp
private void OnTriggerEnter(Collider other)
{
    if (hasHit) return;

    // –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º –≤–ª–∞–¥–µ–ª—å—Ü–∞
    if (other.gameObject == owner) return;

    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ–ø–∞–¥–∞–Ω–∏–µ –≤ —Ü–µ–ª—å
    if (other.transform == target)
    {
        HitTarget();
    }
    // –ò–ª–∏ –ø–æ–ø–∞–¥–∞–Ω–∏–µ –≤ –ª—é–±–æ–≥–æ –≤—Ä–∞–≥–∞
    else
    {
        Enemy enemy = other.GetComponent<Enemy>();
        NetworkPlayer networkPlayer = other.GetComponent<NetworkPlayer>();

        if ((enemy != null && enemy.IsAlive()) || networkPlayer != null)
        {
            target = other.transform;
            HitTarget();
        }
    }
}
```

**–¢–µ–ø–µ—Ä—å —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –¢–û–õ–¨–ö–û –∫–æ–≥–¥–∞ —Å–Ω–∞—Ä—è–¥ –∫–∞—Å–∞–µ—Ç—Å—è:**
- Character (–∏–≥—Ä–æ–∫)
- Enemy (–≤—Ä–∞–≥)
- –î—Ä—É–≥–æ–≥–æ Projectile

**–ù–ï –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ–≥–¥–∞ —Å–Ω–∞—Ä—è–¥ –∫–∞—Å–∞–µ—Ç—Å—è:**
- –°—Ç–µ–Ω
- –ü–æ–ª–∞
- –õ–∞–Ω–¥—à–∞—Ñ—Ç–∞
- UI
- –í–æ–¥—ã
- –ò –ª—é–±—ã—Ö –¥—Ä—É–≥–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –Ω–∞ Default —Å–ª–æ–µ

---

## –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### –û—Ç–∫—Ä–æ–π—Ç–µ Arena Scene –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ:

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –∏–≥—Ä—É** (Play)
2. **–í—ã–±–µ—Ä–∏—Ç–µ –º–∞–≥–∞** –∏–ª–∏ –∫–ª–∞—Å—Å —Å–æ —Å–Ω–∞—Ä—è–¥–∞–º–∏
3. **–ù–∞–π–¥–∏—Ç–µ –≤—Ä–∞–≥–∞**
4. **–ê—Ç–∞–∫—É–π—Ç–µ** (–õ–ö–ú)

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ:

- ‚úÖ –°–Ω–∞—Ä—è–¥ –ª–µ—Ç–∏—Ç **—Å–∫–≤–æ–∑—å —Å—Ç–µ–Ω—ã** (–µ—Å–ª–∏ –µ—Å—Ç—å)
- ‚úÖ –°–Ω–∞—Ä—è–¥ –ª–µ—Ç–∏—Ç **—Å–∫–≤–æ–∑—å –ø–æ–ª** (–Ω–µ –≤–∑—Ä—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –ø–æ–ª—É)
- ‚úÖ –°–Ω–∞—Ä—è–¥ **–∞–≤—Ç–æ–Ω–∞–≤–æ–¥–∏—Ç—Å—è –Ω–∞ –≤—Ä–∞–≥–∞**
- ‚úÖ –°–Ω–∞—Ä—è–¥ **–≤–∑—Ä—ã–≤–∞–µ—Ç—Å—è –¢–û–õ–¨–ö–û –ø—Ä–∏ –ø–æ–ø–∞–¥–∞–Ω–∏–∏ –≤ –≤—Ä–∞–≥–∞**
- ‚úÖ –≠—Ñ—Ñ–µ–∫—Ç –≤–∑—Ä—ã–≤–∞ –ø–æ—è–≤–ª—è–µ—Ç—Å—è **–Ω–∞ –≤—Ä–∞–≥–µ**
- ‚úÖ –í—Ä–∞–≥ **–ø–æ–ª—É—á–∞–µ—Ç —É—Ä–æ–Ω**

---

## –î–û–ë–ê–í–õ–ï–ù–ò–ï –ù–û–í–´–• –°–ù–ê–†–Ø–î–û–í

–ö–æ–≥–¥–∞ —Å–æ–∑–¥–∞–µ—Ç–µ –Ω–æ–≤—ã–π —Å–Ω–∞—Ä—è–¥, **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û:**

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Layer = Projectile

**–í Unity Editor:**
1. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–µ—Ñ–∞–± —Å–Ω–∞—Ä—è–¥–∞
2. –í Inspector ‚Üí Layer
3. –í—ã–±–µ—Ä–∏—Ç–µ **Projectile**

**–ò–ª–∏ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ –≤ .prefab —Ñ–∞–π–ª–µ:**
```yaml
m_Modifications:
- target: {fileID: [GameObject_ID], guid: [Model_GUID], type: 3}
  propertyPath: m_Layer
  value: 7  # Projectile layer
  objectReference: {fileID: 0}
```

### 2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ CelestialProjectile —Å–∫—Ä–∏–ø—Ç

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç —É–∂–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–æ–ª–ª–∏–∑–∏–∏ —á–µ—Ä–µ–∑ `OnTriggerEnter()`

### 3. –î–æ–±–∞–≤—å—Ç–µ Sphere Collider —Å Is Trigger = true

```
Sphere Collider:
  Is Trigger: ‚úÖ true
  Radius: 0.4 (–∏–ª–∏ –ø–æ —Ä–∞–∑–º–µ—Ä—É —Å–Ω–∞—Ä—è–¥–∞)
```

### 4. –î–æ–±–∞–≤—å—Ç–µ Rigidbody (Kinematic)

```
Rigidbody:
  Is Kinematic: ‚úÖ true
  Use Gravity: ‚ùå false
```

---

## –ß–ê–°–¢–´–ï –ü–†–û–ë–õ–ï–ú–´

### –°–Ω–∞—Ä—è–¥ –≤—Å—ë —Ä–∞–≤–Ω–æ –≤–∑—Ä—ã–≤–∞–µ—Ç—Å—è –Ω–∞ —Å—Ç–µ–Ω–∞—Ö

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
1. Layer —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ Projectile (Layer 7)?
   ```bash
   # –ù–∞–π–¥–∏—Ç–µ –≤ .prefab —Ñ–∞–π–ª–µ:
   grep "m_Layer" prefab_file.prefab
   # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: value: 7
   ```

2. Physics Matrix –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞?
   - Edit ‚Üí Project Settings ‚Üí Physics
   - –ù–∞–π–¥–∏—Ç–µ Layer "Projectile"
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≥–∞–ª–æ—á–∫–∏ –¢–û–õ–¨–ö–û –Ω–∞ Character –∏ Enemy

3. –£ —Å—Ç–µ–Ω/–ø–æ–ª–∞ —Å–ª–æ–π Default?
   - –°—Ç–µ–Ω—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –Ω–∞ Default (Layer 0)
   - –ò–ª–∏ –Ω–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–º —Å–ª–æ–µ Environment

### –°–Ω–∞—Ä—è–¥ –ø—Ä–æ–ª–µ—Ç–∞–µ—Ç —Å–∫–≤–æ–∑—å –≤—Ä–∞–≥–æ–≤

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
1. –£ –≤—Ä–∞–≥–∞ –µ—Å—Ç—å Collider?
2. –£ –≤—Ä–∞–≥–∞ —Å–ª–æ–π Enemy (Layer 8)?
3. Collider –≤—Ä–∞–≥–∞ **–ù–ï** Is Trigger (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ–±—ã—á–Ω—ã–π –∫–æ–ª–ª–∞–π–¥–µ—Ä)
4. Physics Matrix: Projectile ‚Üî Enemy –≤–∫–ª—é—á–µ–Ω–æ

---

## –ê–õ–¨–¢–ï–†–ù–ê–¢–ò–í–ù–´–ô –ü–û–î–•–û–î (–±–µ–∑ Physics Matrix)

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –±–æ–ª–µ–µ —Ç–æ–Ω–∫—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É, –º–æ–∂–Ω–æ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ `OnTriggerEnter()`:

```csharp
private void OnTriggerEnter(Collider other)
{
    if (hasHit) return;
    if (other.gameObject == owner) return;

    // –ù–û–í–´–ô –ö–û–î: –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–ª–æ–π –æ–±—ä–µ–∫—Ç–∞
    int otherLayer = other.gameObject.layer;
    int characterLayer = LayerMask.NameToLayer("Character");
    int enemyLayer = LayerMask.NameToLayer("Enemy");

    // –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º –≤—Å—ë –∫—Ä–æ–º–µ Character –∏ Enemy
    if (otherLayer != characterLayer && otherLayer != enemyLayer)
    {
        return; // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –∫–æ–ª–ª–∏–∑–∏—é
    }

    // –û—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥ –∫–∞–∫ —Ä–∞–Ω—å—à–µ...
    if (other.transform == target)
    {
        HitTarget();
    }
    else
    {
        Enemy enemy = other.GetComponent<Enemy>();
        NetworkPlayer networkPlayer = other.GetComponent<NetworkPlayer>();

        if ((enemy != null && enemy.IsAlive()) || networkPlayer != null)
        {
            target = other.transform;
            HitTarget();
        }
    }
}
```

**–ù–æ —ç—Ç–æ –ù–ï –Ω—É–∂–Ω–æ**, —Ç–∞–∫ –∫–∞–∫ Physics Matrix —É–∂–µ –¥–µ–ª–∞–µ—Ç —ç—Ç—É —Ä–∞–±–æ—Ç—É!

---

## SUMMARY

### –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:

1. ‚úÖ `ProjectSettings/TagManager.asset` - –¥–æ–±–∞–≤–ª–µ–Ω —Å–ª–æ–π Projectile
2. ‚úÖ `ProjectSettings/DynamicsManager.asset` - –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ collision matrix
3. ‚úÖ `Assets/Resources/Projectiles/EtherealSkullProjectile.prefab` - —Å–ª–æ–π 7
4. ‚úÖ `Assets/Resources/Projectiles/CelestialBallProjectile.prefab` - —Å–ª–æ–π 7
5. ‚úÖ `Assets/Prefabs/Projectiles/Ethereal_Skull_1020210937_texture.prefab` - —Å–ª–æ–π 7

### –†–µ–∑—É–ª—å—Ç–∞—Ç:

- –°–Ω–∞—Ä—è–¥—ã –±–æ–ª—å—à–µ –ù–ï –≤–∑—Ä—ã–≤–∞—é—Ç—Å—è –Ω–∞ –ø–æ–ª–ø—É—Ç–∏
- –°–Ω–∞—Ä—è–¥—ã –≤–∑—Ä—ã–≤–∞—é—Ç—Å—è –¢–û–õ–¨–ö–û –ø—Ä–∏ –ø–æ–ø–∞–¥–∞–Ω–∏–∏ –≤ Character –∏–ª–∏ Enemy
- –°–Ω–∞—Ä—è–¥—ã –ø—Ä–æ–ª–µ—Ç–∞—é—Ç —Å–∫–≤–æ–∑—å —Å—Ç–µ–Ω—ã, –ø–æ–ª, –ª–∞–Ω–¥—à–∞—Ñ—Ç
- –ê–≤—Ç–æ–Ω–∞–≤–µ–¥–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

**–ì–û–¢–û–í–û!** –ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞! üíÄ‚ú®

–¢–µ–ø–µ—Ä—å –º–æ–∂–µ—Ç–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ Unity –∏ —É–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ —Å–Ω–∞—Ä—è–¥—ã –ª–µ—Ç—è—Ç –¥–æ —Ü–µ–ª–∏ –∏ –≤–∑—Ä—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ –≤—Ä–∞–≥–∞—Ö.

---

**–ê–≤—Ç–æ—Ä:** Claude (Anthropic)
**–î–∞—Ç–∞:** 21 –æ–∫—Ç—è–±—Ä—è 2025
