# FIX: Animator Parameters - "Parameter does not exist"

## –ü—Ä–æ–±–ª–µ–º–∞
```
Parameter 'isMoving' does not exist.
UnityEngine.Animator:GetBool (string)
ActionPointsSystem:IsPlayerStanding () (at Assets/Scripts/Player/ActionPointsSystem.cs:173)

Parameter 'moveY' does not exist.
UnityEngine.Animator:GetFloat (string)
ActionPointsSystem:IsPlayerStanding () (at Assets/Scripts/Player/ActionPointsSystem.cs:180)
```

### –ü—Ä–∏—á–∏–Ω–∞
`ActionPointsSystem` –ø—ã—Ç–∞–ª—Å—è –ø–æ–ª—É—á–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∞–Ω–∏–º–∞—Ç–æ—Ä–∞ **–±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏—Ö —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è**.

**–ü—Ä–æ–±–ª–µ–º–∞ –≤ —Ç–æ–º, —á—Ç–æ —Ä–∞–∑–Ω—ã–µ –∫–ª–∞—Å—Å—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ä–∞–∑–Ω—ã–µ –∏–º–µ–Ω–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:**

| –ö–ª–∞—Å—Å | –ü–∞—Ä–∞–º–µ—Ç—Ä –¥–≤–∏–∂–µ–Ω–∏—è | –ü–∞—Ä–∞–º–µ—Ç—Ä —Å–∫–æ—Ä–æ—Å—Ç–∏ |
|-------|------------------|-------------------|
| **MixamoPlayerController** | `isMoving` (lowercase) | `moveY` (lowercase) |
| **PlayerController** | `IsMoving` (PascalCase) | `MoveY` (PascalCase) |
| **Warrior/Mage/etc** | –ú–æ–∂–µ—Ç –Ω–µ –±—ã—Ç—å –≤–æ–æ–±—â–µ! | –ú–æ–∂–µ—Ç –Ω–µ –±—ã—Ç—å –≤–æ–æ–±—â–µ! |

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- `animator.GetBool("isMoving")` ‚Üí **Exception** –µ—Å–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –Ω–µ—Ç
- `animator.GetFloat("moveY")` ‚Üí **Exception** –µ—Å–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –Ω–µ—Ç
- –°–ø–∞–º –æ—à–∏–±–æ–∫ –∫–∞–∂–¥—ã–π –∫–∞–¥—Ä (60+ —Ä–∞–∑ –≤ —Å–µ–∫—É–Ω–¥—É)

---

## –†–µ—à–µ–Ω–∏–µ

### 1. –î–æ–±–∞–≤–ª–µ–Ω –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ `HasParameter()`
**–§–∞–π–ª:** `Assets/Scripts/Player/ActionPointsSystem.cs` (—Å—Ç—Ä–æ–∫–∏ 309-322)

```csharp
/// <summary>
/// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä –≤ Animator (–±–µ–∑–æ–ø–∞—Å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞)
/// </summary>
private bool HasParameter(Animator animator, string paramName)
{
    if (animator == null) return false;

    foreach (AnimatorControllerParameter param in animator.parameters)
    {
        if (param.name == paramName)
            return true;
    }
    return false;
}
```

### 2. –û–±–Ω–æ–≤–ª—ë–Ω –º–µ—Ç–æ–¥ `IsPlayerStanding()`
**–§–∞–π–ª:** `Assets/Scripts/Player/ActionPointsSystem.cs` (—Å—Ç—Ä–æ–∫–∏ 169-210)

**–î–æ (–ù–ï–ü–†–ê–í–ò–õ–¨–ù–û):**
```csharp
if (animator != null)
{
    // ‚ùå –û–®–ò–ë–ö–ê: –ü—ã—Ç–∞–µ—Ç—Å—è –ø–æ–ª—É—á–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è
    bool isMoving = animator.GetBool("isMoving");
    if (isMoving)
    {
        return false;
    }

    float moveY = animator.GetFloat("moveY");
    if (Mathf.Abs(moveY) > 0.01f)
    {
        return false;
    }
}
```

**–ü–æ—Å–ª–µ (–ü–†–ê–í–ò–õ–¨–ù–û):**
```csharp
if (animator != null)
{
    // ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ–º isMoving (lowercase - MixamoPlayerController)
    if (HasParameter(animator, "isMoving"))
    {
        bool isMoving = animator.GetBool("isMoving");
        if (isMoving)
        {
            return false;
        }
    }

    // ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ–º IsMoving (PascalCase - PlayerController)
    if (HasParameter(animator, "IsMoving"))
    {
        bool isMoving = animator.GetBool("IsMoving");
        if (isMoving)
        {
            return false;
        }
    }

    // ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ–º moveY (lowercase)
    if (HasParameter(animator, "moveY"))
    {
        float moveY = animator.GetFloat("moveY");
        if (Mathf.Abs(moveY) > 0.01f)
        {
            return false;
        }
    }

    // ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ–º MoveY (PascalCase)
    if (HasParameter(animator, "MoveY"))
    {
        float moveY = animator.GetFloat("MoveY");
        if (Mathf.Abs(moveY) > 0.01f)
        {
            return false;
        }
    }
}
```

---

## –†–µ–∑—É–ª—å—Ç–∞—Ç

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
```
Parameter 'isMoving' does not exist.
Parameter 'moveY' does not exist.
Parameter 'isMoving' does not exist.
Parameter 'moveY' does not exist.
... (60+ —Ä–∞–∑ –≤ —Å–µ–∫—É–Ω–¥—É)
```

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
```
[ActionPoints] üîÑ –ù–∞—á–∞–ª–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è AP (–ø–µ—Ä—Å–æ–Ω–∞–∂ —Å—Ç–æ–∏—Ç –Ω–∞ –º–µ—Å—Ç–µ)
(–ù–∏–∫–∞–∫–∏—Ö –æ—à–∏–±–æ–∫!)
```

---

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

1. ‚úÖ **–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç—å:** –†–∞–±–æ—Ç–∞–µ—Ç —Å –ª—é–±—ã–º–∏ –∞–Ω–∏–º–∞—Ç–æ—Ä–∞–º–∏ (MixamoPlayerController, PlayerController, custom)
2. ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** –ù–µ—Ç exceptions –¥–∞–∂–µ –µ—Å–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç
3. ‚úÖ **–ì–∏–±–∫–æ—Å—Ç—å:** –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –æ–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è (lowercase/PascalCase)
4. ‚úÖ **–ß–∏—Å—Ç—ã–µ –ª–æ–≥–∏:** –ù–µ—Ç —Å–ø–∞–º–∞ –æ—à–∏–±–æ–∫

---

## –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–≤–∏–∂–µ–Ω–∏—è —Ç–µ–ø–µ—Ä—å

```
IsPlayerStanding() {
    // –ü–†–û–í–ï–†–ö–ê 1: Input –∫–ª–∞–≤–∏—à (WASD)
    if (Input.GetKey(...)) ‚Üí return false

    // –ü–†–û–í–ï–†–ö–ê 2: Animator –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–±–µ–∑–æ–ø–∞—Å–Ω–æ!)
    if (HasParameter("isMoving") && animator.GetBool("isMoving")) ‚Üí return false
    if (HasParameter("IsMoving") && animator.GetBool("IsMoving")) ‚Üí return false
    if (HasParameter("moveY") && animator.GetFloat("moveY") > 0.01) ‚Üí return false
    if (HasParameter("MoveY") && animator.GetFloat("MoveY") > 0.01) ‚Üí return false

    // –ü–†–û–í–ï–†–ö–ê 3: –ê–Ω–∏–º–∞—Ü–∏—è –∞—Ç–∞–∫–∏
    if (stateInfo.IsTag("Attack")) ‚Üí return false

    // –ü–†–û–í–ï–†–ö–ê 4: CharacterController velocity
    if (charController.velocity.magnitude > 0.1) ‚Üí return false

    // –í–°–ï –ü–†–û–í–ï–†–ö–ò –ü–†–û–ô–î–ï–ù–´
    return true ‚Üí –ò–≥—Ä–æ–∫ —Å—Ç–æ–∏—Ç –Ω–∞ –º–µ—Å—Ç–µ!
}
```

---

## –°–≤—è–∑–∞–Ω–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã

–≠—Ç–∞ –∂–µ –ø—Ä–æ–±–ª–µ–º–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ –¥—Ä—É–≥–∏—Ö —Å–∫—Ä–∏–ø—Ç–∞—Ö, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–±–æ—Ç–∞—é—Ç —Å Animator:

- ‚úÖ **NetworkSyncManager.cs** - –£–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `HasParameter()` (—Å—Ç—Ä–æ–∫–∏ 315-322)
- ‚ö†Ô∏è **ManaSystem.cs** - –ú–æ–∂–µ—Ç –∏–º–µ—Ç—å —Ç—É –∂–µ –ø—Ä–æ–±–ª–µ–º—É
- ‚ö†Ô∏è **PlayerController.cs** - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û
**–§–∞–π–ª—ã:** ActionPointsSystem.cs
**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –æ—à–∏–±–∫–∏ –±–æ–ª—å—à–µ –Ω–µ –ø–æ—è–≤–ª—è—é—Ç—Å—è –ø—Ä–∏ –¥–≤–∏–∂–µ–Ω–∏–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
